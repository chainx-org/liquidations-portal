"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("assert")),r=e(require("lodash/mapValues")),n=e(require("lodash/reduce")),a=e(require("lodash/uniqBy")),c=require("tslib"),i=require("@makerdao/currency"),s=require("@makerdao/services-core"),o=e(require("lodash/times")),d=e(require("bignumber.js")),u=e(require("web3")),C=require("ethers"),f=e(require("lodash/has")),A=e(require("lodash/padStart")),D=e(require("web3-eth-abi")),_=e(require("lodash/padEnd")),p=e(require("lodash/orderBy")),b=e(require("lodash/flatten"));function E(e,t,r,n,a,c,i){try{var s=e[c](i),o=s.value}catch(e){return void r(e)}s.done?t(o):Promise.resolve(o).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function i(e){E(c,n,a,i,s,"next",e)}function s(e){E(c,n,a,i,s,"throw",e)}i(void 0)}))}}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),e}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B={AAVE:"0x00ED8CcEF5351aF14aa6214e6153c39a5e1d1528",BAL:"0xe543f18a82bCEEEA6e0B19C15196582483b76a6d",BAT:"0x6B09a5b5Dc17eaa7D0B65bA898F58005A70736B5",CDP_MANAGER:"0x17c7D82597A3a07AEd1FDF1db560B7502AeB3ADf",CLIPPER_MOM:"0xaAE899cFDf60585F361135A55c954a3D52800533",COMP:"0x1Ed553FF89645FCDd55409Ae02462f1239f92511",DEPLOYER:"0x16Fb96a5fa0427Af0C8F7cF1eB4870231c8154B6",DGD:"0x6C0604d4b3EBB76DBA48cC0B5a54Bd0f260d962c",DSR_MANAGER:"0x23b8aD8B5B26351fD2C304aE23c8679Da03B9155",ETH:"0x7ba25F791FA76C3ef40AC98ed42634a8bC24c238",FAUCET:"0x50289fDAf1C8FE16E14fc28642a77C1A70943245",FLIPPER_MOM:"0x39028A393b3195262E54aA17928fa46f3FcCE58c",GET_CDPS:"0x70465b57f4948198330DF49e80cB0b7b4A8563e9",GNT:"0xdf3B1A36FF07CCCf5E61a60690Fc0170e238f499",GUSD:"0xBE0fe36494219EE23e42BFaaE77A5b48cF8c6E1C",ILK_REGISTRY:"0x14f7e74A26a0e6791523451d85129babf01cFd44",KNC:"0x061a2B2662AC2C1AAfe9b39Fc6e4c6730e01bE5E",LINK:"0x391e0c5B8bc5e2b7ABC12d330523C1D3e3F86ECE",LRC:"0x28DD44319c5a159f06AB5C5EE781760ee3200848",MANA:"0xe8F0f6067FA52572d6631517e9050C46769bEBf3",MATIC:"0xe8F0f6067FA52572d6631517e9050C46769bEBf3",WSTETH:"0xe8F0f6067FA52572d6631517e9050C46769bEBf3",MCD_ADM:"0xAe2f82b48f2C12bA5532879C4A718f8aAbF2f8E6",MCD_CAT:"0xc1F5856c066cfdD59D405DfCf1e77F667537bc99",MCD_CLIP_CALC_ETH_B:"0xb782CEe543F1a9A0724F32731f53DcdD198C2695",MCD_CLIP_CALC_ETH_C:"0x0E8D43bd507798476c1053165F9C061F1E000A09",MCD_CLIP_CALC_LINK_A:"0x79E6093AC9894936D2F61A29Bd2fFff44A71C047",MCD_CLIP_CALC_YFI_A:"0x0380BeA5D02A686aa19C1A6b940FC2D0EEA14351",MCD_CLIP_ETH_B:"0x31880D3A1E5cbF402b6F9840e7aDC6E7962b771B",MCD_CLIP_ETH_C:"0x2aF0c08B3dBB9D81A1D9eBea320Fd2f48f54c5D1",MCD_CLIP_LINK_A:"0xA15f6Fd90F2696e2B1BFdEB7F64A509718CA0dB9",MCD_CLIP_YFI_A:"0x79Cd1ED9D1df3a84e0f5C2261Ce73c588277892e",MCD_DAI:"0xe53793CA0F1a3991D6bfBc5929f89A9eDe65da44",MCD_DEPLOY:"0xEc93D8Ea996Da9Ffe359778F3DaE6134DF0de016",MCD_DOG:"0x970b3b28EBD466f2eC181630D4c3C93DfE280448",MCD_END:"0x4A504460C1ea6c1945D07619B546e4629fd2A5dB",MCD_ESM:"0xBFD5ccf89494B6A4A98c525f4E97f57C44f32CEB",MCD_FLAP:"0xBfd57220780aB21112008C2296C09B3a10d7E2ad",MCD_FLASH:"0x5bEE1570475945c67499251D974f7aef2455a112",MCD_FLIP_AAVE_A:"0xA99454a0B81aA2575D88508D01A017cdf448aF38",MCD_FLIP_BAL_A:"0x48C6Dc5C6709272A3044E7f710FbCe29aA642e25",MCD_FLIP_BAT_A:"0x9c0ff10dB728ebf5DA896DEDC782bA58F9dF3D57",MCD_FLIP_COMP_A:"0xCFea08DcA81ac1c528DE5Ef950C9EF8f5Ed5a96B",MCD_FLIP_DGD_A:"0x8bb51BBc9A7d5041029CB2300b6d7894351315dE",MCD_FLIP_ETH_A:"0xA7fD71f86a79B9595Bc74dB12226E7298097581B",MCD_FLIP_GNT_A:"0x0B164D1b88Dd89a22B463238D7f91210B5FA6745",MCD_FLIP_GUSD_A:"0xb9b3A6a8Ef7eea66b5eC8f65bf77855F2028AF41",MCD_FLIP_KNC_A:"0xDfd8aF1CE06Af665c1C5Ec6cb99F81C951b476a9",MCD_FLIP_LRC_A:"0xc162fedaC22ACea1AEDb1FfCd3f728dE8C346948",MCD_FLIP_MANA_A:"0x14ddb2fec281E19849318f3ce2a51FdE0139C1f1",MCD_FLIP_MATIC_A:"0x14ddb2fec281E19849318f3ce2a51FdE0139C1f1",MCD_FLIP_WSTETH_A:"0x14ddb2fec281E19849318f3ce2a51FdE0139C1f1",MCD_FLIP_OMG_A:"0xc84b50Ea1cB3f964eFE51961140057f7E69b09c1",MCD_FLIP_PAXUSD_A:"0x609149777E830169f43F773f478e16DB0207B6eC",MCD_FLIP_RENBTC_A:"0x1bb4Fd4e72201b37Fa1f705B0A6E2b562b7ab64e",MCD_FLIP_REP_A:"0x76DECA04eA3bd6bCF2F7220aa849CC80ab1A4eef",MCD_FLIP_TUSD_A:"0x39ac8af65D275193538af30Bfe137744A613430a",MCD_FLIP_UNI_A:"0x36EED8eBB359e7019be02F183A8313a1385CE872",MCD_FLIP_USDC_A:"0x77b9cd0d79DF8dA228685bc6502042E46E67Ee59",MCD_FLIP_USDC_B:"0x8e32119f52c6c5c2e4Da5dB8700e1b8C49D10273",MCD_FLIP_USDT_A:"0x2Fbe303a869F3868E84AA67e2Df6823a802A0944",MCD_FLIP_WBTC_A:"0x4f36410DD60A7190bD4763b0F0462Addb8A78F50",MCD_FLIP_ZRX_A:"0x51E48Bcd93785271e3c5611f6ab15810bf293218",MCD_FLOP:"0xbacD4966540aAF7223CC9DC39a3ea1E4322Aba78",MCD_GOV:"0x1c3ac7216250eDC5B9DaA5598DA0579688b9dbD5",MCD_GOV_ACTIONS:"0x639146631B329Dd28f71e0a9E5bC1b080943a3D4",MCD_IAM_AUTO_LINE:"0x191c015d683F3c5A2f70234b3780863fb200FB69",MCD_IOU:"0x9fb9B0CCb0b6bcA8ff7667c1c1733F4469e27Af1",MCD_JOIN_AAVE_A:"0x20EB41099150cF92A0576409520b72a0AD870c75",MCD_JOIN_BAL_A:"0xbCaf9D36e65DfB2f098986D7e35420539EDe50E4",MCD_JOIN_BAT_A:"0xdB8848ea69cCE3f7f41949D274899641e558cDf4",MCD_JOIN_COMP_A:"0xDBb349cbFB22540B90995298CE3909Dd4Fa2C75d",MCD_JOIN_DAI:"0xd34835EaE60dA418abfc538B7b55332fC5F10340",MCD_JOIN_DGD_A:"0xd324BC539B85e6DFe08005c4D261d0ff22b0A34C",MCD_JOIN_ETH_A:"0x1fD87e7ddF2A2f22ac5fb8F617A44214f17B883c",MCD_JOIN_ETH_B:"0x4aF6E9FA188161FD283DC8d51619615d00ef3F01",MCD_JOIN_ETH_C:"0xA5DD0E5906fAc83862581C5DCA85CF926ABFa09b",MCD_JOIN_GNT_A:"0xfEB7149A008b52581F31717Fad5C5A23ea28cAE4",MCD_JOIN_GUSD_A:"0x2006CAA6901322b195e27aC007d2de1C09B7f19E",MCD_JOIN_KNC_A:"0x15ed0b56FC19773832011Da89118c3dd41072091",MCD_JOIN_LINK_A:"0x453085B32e086994492706b8222fee21E8A098A3",MCD_JOIN_LRC_A:"0xa26B57185e56375dd20225aDcEbd00d7e82681e4",MCD_JOIN_MANA_A:"0x6261bc3816Fa6A15dAcC68ff06baB082905f06bC",MCD_JOIN_MATIC_A:"0x6261bc3816Fa6A15dAcC68ff06baB082905f06bC",MCD_JOIN_WSTETH_A:"0x6261bc3816Fa6A15dAcC68ff06baB082905f06bC",MCD_JOIN_OMG_A:"0x7581e647b7b5d522B198EF44F51E1121b3D837B0",MCD_JOIN_PAXUSD_A:"0xe1131FBFF225FfC0ebdc4233852fdC415e4d2B6b",MCD_JOIN_RENBTC_A:"0x12F30DFCdCB82B7AAE11513fFcc290EbbdF97124",MCD_JOIN_REP_A:"0xcf4a441593Fbf1Bf56960674C5a3a18049C7bbe2",MCD_JOIN_TUSD_A:"0x8A74211B5fC144A846fD1daA4dC8ABbB6268E18f",MCD_JOIN_UNI_A:"0x5d2132779D43A0B64F1f3e824B8A3163438358e8",MCD_JOIN_USDC_A:"0xE425CA42d0CB22D0D82366f6B811d559cff437B4",MCD_JOIN_USDC_B:"0x883c76966eA1D1AFEC54a1c20f84A57a287BB021",MCD_JOIN_USDT_A:"0x493226477349795d74E106Eed6a2B6a5D437Edab",MCD_JOIN_WBTC_A:"0xE6666822E10D3c5c33726Ea732506AaA50Ea0C88",MCD_JOIN_YFI_A:"0x698E14422A7739D268644b2794C1A9e49Ef3960B",MCD_JOIN_ZRX_A:"0x2B0B998110C0038336a8d5609c4E3A0AC35Af0f4",MCD_JUG:"0xd6D7C74729bB83c35138E54b8d5530ea96920c92",MCD_PAUSE:"0x6A309d0a82643cf531f6f7c2B21033D2AE7d016C",MCD_PAUSE_PROXY:"0x3C55dc3113a0a67Ee240e5149c35399d6BeC9E39",MCD_POT:"0x3F35940dD9f42F7560fa08F506c81d99fed870a7",MCD_SPOT:"0xb379BdC949F09e0E1c866785D1896B763E1387b0",MCD_VAT:"0x6D6e3B9B602a0a37c820F2383A1DD0EC02B5196d",MCD_VOW:"0xa64D95634d839445283f71137f9CeD3f1405aad5",MULTICALL:"0x5AE5677589cf9992290918CcD1828dcBD73D842c",OMG:"0x6efDF221190D139DD29bdbC0aB984165C6cC6C4b",OSM_MOM:"0x5e5baAcFFefa9958B64894141bE27d8f2a9B92e6",PAXUSD:"0x299051753C11BD80668f515405EF502d98F35588",PIP_AAVE:"0x302DBc5F544f6Fe18f1CfF1bb5e971ba13236F4F",PIP_BAL:"0xc3e27cDDbb7A06f40Ded620a67dB858643da39C2",PIP_BAT:"0xdD35201726c511474e7E1EE426B5C78B014AddCc",PIP_COMP:"0xEd9521Ba67e5961401073C8F57A10396B9296Ff2",PIP_DGD:"0xb564f1dC7D220f8E20de45547de71620543c0053",PIP_ETH:"0x2d3AdFCa1e6aD360A138cBCF2F286f70a5Ff614A",PIP_GNT:"0x9783d28387f5097d72397388d98c52Ca9b18dec8",PIP_GUSD:"0x629cA18b145A870eFb230CF89aA626a4B2D3b228",PIP_KNC:"0x5e73B1F57f673EC875C1624D7C13F06Ef8259b23",PIP_LINK:"0x161AD3D1336814B895995D5EE8F1510ec3ccEA8C",PIP_LRC:"0x519a23560835856af262d7d829e1b9d89784DaA7",PIP_MANA:"0x7294588Da9cA5494fa6861A10B1Cc26096dC3b11",PIP_MATIC:"0x7294588Da9cA5494fa6861A10B1Cc26096dC3b11",PIP_WSTETH:"0x7294588Da9cA5494fa6861A10B1Cc26096dC3b11",PIP_OMG:"0xE0d81d47aC1e791dd2559013cf1fF005e619d733",PIP_PAXUSD:"0xB5e8D7CcF287cF4adaBF00c8529e81cd416b9fa7",PIP_RENBTC:"0xB3CcF0B63055312b73530D1D0810c862A0690e95",PIP_REP:"0x80f178c7b47cb635Ceb12aBB891338744e98365C",PIP_TUSD:"0x870Cc2aFa004e22a49CAEa7392CC3bCD2ca96A3A",PIP_UNI:"0xF6bbB12EEE8B45214B2c8A8F9487982a35b7Ae81",PIP_USDC:"0xA70B7c2a55a76f89b64b4b15381FfF87279dD3d7",PIP_USDT:"0xc6c39b56d3dafcb213b4344D54e70E232b10ca48",PIP_WBTC:"0x298E3eb3C76938DA922EF01b99c87dF156985701",PIP_YFI:"0x174666d4101f6294EBa19D0846Ec85176D28F2e6",PIP_ZRX:"0xbD4d6688B679F27Bf6829922A4AE4E43D29153E4",PROXY_ACTIONS:"0x04De75eD338D41D2E901bf703179D1049883aF5b",PROXY_ACTIONS_DSR:"0x55a191069a8ACE1589c9d44E8dbB6D1051C76e20",PROXY_ACTIONS_END:"0xd97fd1B5867cC71AfA32A0c36d38102241856Cde",PROXY_DEPLOYER:"0xf0beDfD610eE7A7e3347551Fff56E1173B726807",PROXY_FACTORY:"0x3ea503Fb236e6eE3B4d48b6Bd96Ba5F7Cf68AF94",PROXY_PAUSE_ACTIONS:"0xF5303EF974273A97bA92436E39C304618Ffaa5c0",PROXY_REGISTRY:"0x72b59ACcB5a9a9e47296fbeF741bF2Bc82FFDE62",RENBTC:"0x787b559e0A2BE9F1FCfa7824eCE7dC315f2fAF57",REP:"0x2bB387C549c61E7fCe9DDcC9ca19980D696643a4",TUSD:"0xd7e93C4B43A55fe3DbEBe4c89991769d01c3E76d",UNI:"0xb6350CdB0eE579357589B72b38110BB306F34Fa9",USDC:"0x5E6085775Cd0B41fC70d1A6B48a0451bf7aCa801",USDT:"0x537d6F0138da9FdAF5aeF1Df9E8AC8d0D73005d6",VAL_AAVE:"0x302DBc5F544f6Fe18f1CfF1bb5e971ba13236F4F",VAL_BAL:"0xc3e27cDDbb7A06f40Ded620a67dB858643da39C2",VAL_BAT:"0xdD35201726c511474e7E1EE426B5C78B014AddCc",VAL_COMP:"0xEd9521Ba67e5961401073C8F57A10396B9296Ff2",VAL_DGD:"0xb564f1dC7D220f8E20de45547de71620543c0053",VAL_ETH:"0x2d3AdFCa1e6aD360A138cBCF2F286f70a5Ff614A",VAL_GNT:"0x9783d28387f5097d72397388d98c52Ca9b18dec8",VAL_GUSD:"0x629cA18b145A870eFb230CF89aA626a4B2D3b228",VAL_KNC:"0x5e73B1F57f673EC875C1624D7C13F06Ef8259b23",VAL_LINK:"0x161AD3D1336814B895995D5EE8F1510ec3ccEA8C",VAL_LRC:"0x519a23560835856af262d7d829e1b9d89784DaA7",VAL_MANA:"0x7294588Da9cA5494fa6861A10B1Cc26096dC3b11",VAL_MATIC:"0x7294588Da9cA5494fa6861A10B1Cc26096dC3b11",VAL_WSTETH:"0x7294588Da9cA5494fa6861A10B1Cc26096dC3b11",VAL_OMG:"0xE0d81d47aC1e791dd2559013cf1fF005e619d733",VAL_PAXUSD:"0xB5e8D7CcF287cF4adaBF00c8529e81cd416b9fa7",VAL_RENBTC:"0xB3CcF0B63055312b73530D1D0810c862A0690e95",VAL_REP:"0x80f178c7b47cb635Ceb12aBB891338744e98365C",VAL_TUSD:"0x870Cc2aFa004e22a49CAEa7392CC3bCD2ca96A3A",VAL_UNI:"0xF6bbB12EEE8B45214B2c8A8F9487982a35b7Ae81",VAL_USDC:"0xA70B7c2a55a76f89b64b4b15381FfF87279dD3d7",VAL_USDT:"0xc6c39b56d3dafcb213b4344D54e70E232b10ca48",VAL_WBTC:"0x298E3eb3C76938DA922EF01b99c87dF156985701",VAL_YFI:"0x174666d4101f6294EBa19D0846Ec85176D28F2e6",VAL_ZRX:"0xbD4d6688B679F27Bf6829922A4AE4E43D29153E4",VOTE_DELEGATE_FACTORY:"0xe95949a8C0373933dfd7110a66705eb7507Cc5Fd",VOTE_PROXY_FACTORY:"0x45204Df60612c9047Ba1cc483a957290De72180f",WBTC:"0x9dFCC19cc49f9961020a152629Db481F12b6b4Ba",YFI:"0x00727147Df379B69BB7bbf84C8c95e4eaf3e2c96",ZRX:"0x2978B18F7c68B2957e701FC6D82C8De5B55833f2",MIGRATION:"0x2978B18F7c68B2957e701FC6D82C8De5B55833f2",MCD_JOIN_SAI:"0x565e5E6d6C43Aff09A5b3C2b33d710d9c2c63e06",SAI:"0xC226F3CD13d508bc319F4f4290172748199d6612",OLD_MCD_CAT:"0x2125C30dA5DcA0819aEC5e4cdbF58Bfe91918e43",UNIV2DAIETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2DAIETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2DAIETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2DAIETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2WBTCETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2WBTCETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2WBTCETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2WBTCETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2USDCETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2USDCETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2USDCETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2USDCETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2DAIUSDC:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2DAIUSDC:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2DAIUSDC_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2DAIUSDC_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2ETHUSDT:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2ETHUSDT:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2ETHUSDT_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2ETHUSDT_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2LINKETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2LINKETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2LINKETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2LINKETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2UNIETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2UNIETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2UNIETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2UNIETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2WBTCDAI:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2WBTCDAI:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2WBTCDAI_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2WBTCDAI_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2AAVEETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2AAVEETH:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2AAVEETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2AAVEETH_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",UNIV2DAIUSDT:"0xC226F3CD13d508bc319F4f4290172748199d6612",PIP_UNIV2DAIUSDT:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_JOIN_UNIV2DAIUSDT_A:"0xC226F3CD13d508bc319F4f4290172748199d6612",MCD_FLIP_UNIV2DAIUSDT_A:"0xC226F3CD13d508bc319F4f4290172748199d6612"},y={MULTICALL:"0xb8c864B60e9467398800Df34da39BF4f0c459461",FAUCET:"0xa473CdDD6E4FAc72481dc36f39A409D86980D187",MCD_DEPLOY:"0xc09880a0D6d06fa18C8bDC9dF2E203F0d0124fa1",MCD_GOV:"0xc5E4eaB513A7CD12b2335e8a0D57273e13D499f7",GOV_GUARD:"0xB9b861e8F9b29322815260B6883Bbe1DBC91dA8A",MCD_ADM:"0x33Ed584fc655b08b2bca45E1C5b5f07c98053bC1",MCD_VAT:"0xB966002DDAa2Baf48369f5015329750019736031",MCD_JUG:"0xC90C99FE9B5d5207A03b9F28A6E8A19C0e558916",MCD_DOG:"0x5cf85A37Dbd28A239698B4F9aA9a03D55C04F292",ILK_REGISTRY:"0x525FaC4CEc48a4eF2FBb0A72355B6255f8D5f79e",CLIPPER_MOM:"0xC67fFD490903521F778b2A3B2A13D0FC0Be96F98",MCD_CLIP_LINK_A:"0x42cbA983D2403003af554fec0e68dAC4920906CC",MCD_CLIP_CALC_LINK_A:"0xE3Cf29E132EFad92d604Fa5C86AA21b7c7fBB76e",MCD_CAT:"0xd744377001FD3411d7d0018F66E2271CB215f6fd",MCD_VOW:"0x23f78612769b9013b3145E43896Fa1578cAa2c2a",MCD_JOIN_DAI:"0x6a60b7070befb2bfc964F646efDF70388320f4E0",MCD_FLAP:"0x8E4B877d7eD4584b22e1508ffDAA8Ae4f6927397",MCD_FLOP:"0x742D041dFBA61110Bd886509CB299DF6A521B352",MCD_PAUSE:"0xefcd235B1f13e7fC5eab1d05C910d3c390b3439F",MCD_PAUSE_PROXY:"0x5DCdbD3cCF9B09EAAD03bc5f50fA2B3d3ACA0121",MCD_GOV_ACTIONS:"0x5857F3e0e6Fb75658037b3c3410b7446b985B353",MCD_DAI:"0x11fE4B6AE13d2a6055C8D9cF65c55bac32B5d844",MCD_SPOT:"0xACe2A9106ec175bd56ec05C9E38FE1FDa8a1d758",MCD_POT:"0x50672F0a14B40051B65958818a7AcA3D54Bd81Af",MCD_END:"0xDb1d3edb80d3faA1B7257Ab4018A609E327FA50D",MCD_ESM:"0x105BF37e7D81917b6fEACd6171335B4838e53D5e",PROXY_ACTIONS:"0x4023f89983Ece35e227c49806aFc13Bc0248d178",PROXY_ACTIONS_END:"0xBbA4aBF0a12738f093cFD2199C5497044bAa68A8",PROXY_ACTIONS_DSR:"0x15679CdbDb284fe07Eff3809150126697c6e3Dd6",CDP_MANAGER:"0xdcBf58c9640A7bd0e062f8092d70fb981Bb52032",GET_CDPS:"0x7843fd599F5382328DeBB45255deB3E2e0DEC876",OSM_MOM:"0xEdB6b497D2e18A33130CB0D2b70343E6Dcd9EE86",FLIPPER_MOM:"0x7ceCdf6b214a3eBA1589eB8B844fB6Cb12B67Bd7",PROXY_FACTORY:"0x84eFB9c18059394172D0d69A3E58B03320001871",PROXY_REGISTRY:"0x46759093D8158db8BB555aC7C6F98070c56169ce",PROXY_PAUSE_ACTIONS:"0x8D1187FCa9A104211bd25c689C08718AD8730C83",PROXY_DEPLOYER:"0xc9476Fd378de5b0de5C4280D4323f6F89f723c15",ETH:"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",PIP_ETH:"0x94588e35fF4d2E99ffb8D5095F35d1E37d6dDf12",MCD_JOIN_ETH_A:"0x2372031bB0fC735722AA4009AeBf66E8BEAF4BA1",MCD_JOIN_ETH_B:"0x1710BB6dF1967679bb1f247135794692F7963B46",MCD_JOIN_ETH_C:"0x16e6490744d4B3728966f8e72416c005EB3dEa79",BAT:"0x75645f86e90a1169e697707C813419977ea26779",PIP_BAT:"0x2BA78cb27044edCb715b03685D4bf74261170a70",MCD_JOIN_BAT_A:"0xfea8C23D32e4bA46d90AeD2445fBD099010eAdF5",USDC:"0x6Fb5ef893d44F4f88026430d82d4ef269543cB23",PIP_USDC:"0x838212865E2c2f4F7226fCc0A3EFc3EB139eC661",MCD_JOIN_USDC_A:"0x33E88C8b3530e2f19050b24f44AcB78C7114AF46",MCD_JOIN_USDC_B:"0x0Dc70CC4505c1952e719C9C740608A75Ca9e299e",WBTC:"0x7ccF0411c7932B99FC3704d68575250F032e3bB7",PIP_WBTC:"0xE7de200a3a29E9049E378b52BD36701A0Ce68C3b",MCD_JOIN_WBTC_A:"0x3cbE712a12e651eEAF430472c0C1BF1a2a18939D",TUSD:"0xe0B3D300E2e09c1Fd01252287dDbC70A7730ffB0",PIP_TUSD:"0x0ce19eA2C568890e63083652f205554C927a0caa",MCD_JOIN_TUSD_A:"0x5BC597f00d74fAcEE53Be784f0B7Ace63b4e2EBe",ZRX:"0x96E0C18524789ED3e62CD9F56aAEc7cEAC78725a",PIP_ZRX:"0xe9245D25F3265E9A36DcCDC72B0B5dE1eeACD4cD",MCD_JOIN_ZRX_A:"0xC279765B3f930742167dB91271f13353336B6C72",KNC:"0x9A58801cf901486Df9323bcE83A7684915DBAE54",PIP_KNC:"0xCB772363E2DEc06942edbc5E697F4A9114B5989c",MCD_JOIN_KNC_A:"0xA48f0d5DA642928BC1F5dB9De5F5d3D466500075",MANA:"0x347fceA8b4fD1a46e2c0DB8F79e22d293c2F8513",PIP_MANA:"0x001eDD66a5Cc9268159Cf24F3dC0AdcE456AAAAb",MCD_JOIN_MANA_A:"0xF4a1E7Dd685b4EaFBE5d0E70e20c153dee2E290b",PAXUSD:"0x4547863912Fe2d17D3827704138957a8317E8dCD",PIP_PAXUSD:"0xdF8474337c9D3f66C0b71d31C7D3596E4F517457",MCD_JOIN_PAXUSD_A:"0x8Ef390647A74150a79EC73FE120EaaF8bE9eEdf0",USDT:"0x5858f25cc225525A7494f76d90A6549749b3030B",PIP_USDT:"0x1fA3B8DAeE1BCEe33990f66F1a99993daD14D855",MCD_JOIN_USDT_A:"0xa8C62cC41AbF8A199FB484Ea363b90C3e9E01d86",LRC:"0xe32aC5b19051728421A8F4A8a5757D0e127a14F6",PIP_LRC:"0x5AD3A560BB125d00db8E94915232BA8f6166967C",MCD_JOIN_LRC_A:"0x12af538aCf746c0BBe076E5eBAE678e022E1F5f6",LINK:"0x4724A967A4F7E42474Be58AbdF64bF38603422FF",PIP_LINK:"0x75B4e743772D25a7998F4230cb016ddCF2c52629",MCD_JOIN_LINK_A:"0x4420FD4E5C414189708376F3fBAA4dCA6277369a",COMP:"0x8032dce0b793C21B8F7B648C01224c3b557271ED",PIP_COMP:"0xc3d677a5451cAFED13f748d822418098593D3599",MCD_JOIN_COMP_A:"0x544EFa934f26cd6FdFD86883408538150Bdd6725",YFI:"0xd9510EF268F8273C9b7514F0bfFe18Fe1EFC0d43",PIP_YFI:"0xAafF0066D05cEe0D6a38b4dac77e73d9E0a5Cf46",MCD_JOIN_YFI_A:"0xa318E65982E80F54486f71965A0C320858759299",BAL:"0x8c6e73CA229AB3933426aDb5cc829c1E4928551d",PIP_BAL:"0xF15993A5C5BE496b8e1c9657Fd2233b579Cd3Bc6",MCD_JOIN_BAL_A:"0xb31cE33511c2CCEfBc1713A783042eE670Cf5930",GUSD:"0x67aeF79654D8F6CF44FdC08949c308a4F6b3c45B",PIP_GUSD:"0x57A00620Ba1f5f81F20565ce72df4Ad695B389d7",MCD_JOIN_GUSD_A:"0x455451293100C5c5355db10512DEE81F75E45Edf",UNI:"0x82D98aA89E391c6759012df39ccDA0d9d6b24143",PIP_UNI:"0xf1a5b808fbA8fF80982dACe88020d4a80c91aFe6",MCD_JOIN_UNI_A:"0x31aE6e37964f26f4112A8Fc70e0B680F18e4DC6A",RENBTC:"0x30d0A215aef6DadA4771a2b30a59B842f969EfD4",PIP_RENBTC:"0xE7de200a3a29E9049E378b52BD36701A0Ce68C3b",MCD_JOIN_RENBTC_A:"0xb4576162aC5d1bC7C69bA85F39e8f694d44d09D0",AAVE:"0x251661BB7C6869165eF35810E5e1D25Ed57be2Fe",PIP_AAVE:"0xC26E53eF1F71481DE53bfb77875Ffb3aCf4d91f0",MCD_JOIN_AAVE_A:"0x71Ae3e3ac4412865A4E556230b92aB58d895b497",MATIC:"0x5B3b6CF665Cc7B4552F4347623a2A9E00600CBB5",PIP_MATIC:"0xDe112F61b823e776B3439f2F39AfF41f57993045",MCD_JOIN_MATIC_A:"0xeb680839564F0F9bFB96fE2dF47a31cE31689e63",WSTETH:"0x6320cD32aA674d2898A68ec82e869385Fc5f7E2f",PIP_WSTETH:"0x323eac5246d5BcB33d66e260E882fC9bF4B6bf41",MCD_JOIN_WSTETH_A:"0xF99834937715255079849BE25ba31BF8b5D5B45D",UNIV2DAIETH:"0x5dD9dec52a16d4d1Df10a66ac71d4731c9Dad984",PIP_UNIV2DAIETH:"0x044c9aeD56369aA3f696c898AEd0C38dC53c6C3D",MCD_JOIN_UNIV2DAIETH_A:"0x66931685b532CB4F31abfe804d2408dD34Cd419D",UNIV2WBTCETH:"0x7883a92ac3e914F3400e8AE6a2FF05E6BA4Bd403",PIP_UNIV2WBTCETH:"0xD375daC26f7eF991878136b387ca959b9ac1DDaF",MCD_JOIN_UNIV2WBTCETH_A:"0x345a29Db10Aa5CF068D61Bb20F74771eC7DF66FE",UNIV2USDCETH:"0xD90313b3E43D9a922c71d26a0fBCa75A01Bb3Aeb",PIP_UNIV2USDCETH:"0x54ADcaB9B99b1B548764dAB637db751eC66835F0",MCD_JOIN_UNIV2USDCETH_A:"0x46267d84dA4D6e7b2F5A999518Cf5DAF91E204E3",UNIV2DAIUSDC:"0x260719B2ef507A86116FC24341ff0994F2097D42",PIP_UNIV2DAIUSDC:"0xEf22289E240cFcCCdCD2B98fdefF167da10f452d",MCD_JOIN_UNIV2DAIUSDC_A:"0x4CEEf4EB4988cb374B0b288D685AeBE4c6d4C41E",UNIV2ETHUSDT:"0xfcB32e1C4A4F1C820c9304B5CFfEDfB91aE2321C",PIP_UNIV2ETHUSDT:"0x974f7f4dC6D91f144c87cc03749c98f85F997bc7",MCD_JOIN_UNIV2ETHUSDT_A:"0x46A8f8e2C0B62f5D7E4c95297bB26a457F358C82",UNIV2LINKETH:"0x3361fB8f923D1Aa1A45B2d2eD4B8bdF313a3dA0c",PIP_UNIV2LINKETH:"0x11C884B3FEE1494A666Bb20b6F6144387beAf4A6",MCD_JOIN_UNIV2LINKETH_A:"0x98B7023Aced6D8B889Ad7D340243C3F9c81E8c5F",UNIV2UNIETH:"0xB80A38E50B2990Ac83e46Fe16631fFBb94F2780b",PIP_UNIV2UNIETH:"0xB18BC24e52C23A77225E7cf088756581EE257Ad8",MCD_JOIN_UNIV2UNIETH_A:"0x52c31E3592352Cd0CBa20Fa73Da42584EC693283",UNIV2WBTCDAI:"0x3f78Bd3980c49611E5FA885f25Ca3a5fCbf0d7A0",PIP_UNIV2WBTCDAI:"0x916fc346910fd25867c81874f7F982a1FB69aac7",MCD_JOIN_UNIV2WBTCDAI_A:"0x04d23e99504d61050CAF46B4ce2dcb9D4135a7fD",UNIV2AAVEETH:"0xaF2CC6F46d1d0AB30dd45F59B562394c3E21e6f3",PIP_UNIV2AAVEETH:"0xFADF05B56E4b211877248cF11C0847e7F8924e10",MCD_JOIN_UNIV2AAVEETH_A:"0x73C4E5430768e24Fd704291699823f35953bbbA2",UNIV2DAIUSDT:"0xBF2C9aBbEC9755A0b6144051E19c6AD4e6fd6D71",PIP_UNIV2DAIUSDT:"0x2fc2706C61Fba5b941381e8838bC646908845db6",MCD_JOIN_UNIV2DAIUSDT_A:"0xBF70Ca17ce5032CCa7cD55a946e96f0E72f79452"},m={DEPLOYER:"0xdDb108893104dE4E1C6d0E47c42237dB4E617ACc",MULTICALL:"0x5e227AD1969Ea493B43F840cfF78d08a6fc17796",FAUCET:"0x0000000000000000000000000000000000000000",MCD_DEPLOY:"0xbaa65281c2FA2baAcb2cb550BA051525A480D3F4",MCD_GOV:"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2",GOV_GUARD:"0x6eEB68B2C7A918f36B78E2DB80dcF279236DDFb8",MCD_ADM:"0x0a3f6849f78076aefaDf113F5BED87720274dDC0",MCD_VAT:"0x35D1b3F3D7966A1DFe207aa4514C12a259A0492B",MCD_JUG:"0x19c0976f590D67707E62397C87829d896Dc0f1F1",MCD_CAT:"0xa5679C04fc3d9d8b0AaB1F0ab83555b301cA70Ea",OLD_MCD_CAT:"0x78f2c2af65126834c51822f56be0d7469d7a523e",MCD_VOW:"0xA950524441892A31ebddF91d3cEEFa04Bf454466",MCD_JOIN_DAI:"0x9759A6Ac90977b93B58547b4A71c78317f391A28",MCD_FLAP:"0xdfE0fb1bE2a52CDBf8FB962D5701d7fd0902db9f",MCD_FLOP:"0x4D95A049d5B0b7d32058cd3F2163015747522e99",MCD_PAUSE:"0xbE286431454714F511008713973d3B053A2d38f3",MCD_PAUSE_PROXY:"0xBE8E3e3618f7474F8cB1d074A26afFef007E98FB",MCD_GOV_ACTIONS:"0x4F5f0933158569c026d617337614d00Ee6589B6E",MCD_DAI:"0x6B175474E89094C44Da98b954EedeAC495271d0F",MCD_SPOT:"0x65C79fcB50Ca1594B025960e539eD7A9a6D434A3",MCD_POT:"0x197E90f9FAD81970bA7976f33CbD77088E5D7cf7",MCD_END:"0xBB856d1742fD182a90239D7AE85706C2FE4e5922",MCD_ESM:"0x29CfBd381043D00a98fD9904a431015Fef07af2f",PROXY_ACTIONS:"0x82ecD135Dce65Fbc6DbdD0e4237E0AF93FFD5038",PROXY_ACTIONS_END:"0x7AfF9FC9faD225e3c88cDA06BC56d8Aca774bC57",PROXY_ACTIONS_DSR:"0x07ee93aEEa0a36FfF2A9B95dd22Bd6049EE54f26",CDP_MANAGER:"0x5ef30b9986345249bc32d8928B7ee64DE9435E39",GET_CDPS:"0x36a724Bd100c39f0Ea4D3A20F7097eE01A8Ff573",OSM_MOM:"0x76416A4d5190d071bfed309861527431304aA14f",FLIPPER_MOM:"0x9BdDB99625A711bf9bda237044924E34E8570f75",PROXY_FACTORY:"0xA26e15C895EFc0616177B7c1e7270A4C7D51C997",PROXY_REGISTRY:"0x4678f0a6958e4D2Bc4F1BAF7Bc52E8F3564f3fE4",PROXY_PAUSE_ACTIONS:"0x6bda13D43B7EDd6CAfE1f70fB98b5d40f61A1370",PROXY_DEPLOYER:"0x1b93556AB8dcCEF01Cd7823C617a6d340f53Fb58",SAI_TUB:"0x448a5065aeBB8E423F0896E6c5D525C040f59af3",MIGRATION:"0xc73e0383F3Aff3215E6f04B0331D58CeCf0Ab849",MIGRATION_PROXY_ACTIONS:"0x2E1F6062d9fB227069741E40f89186DF222FB426",ETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",PIP_ETH:"0x81FE72B5A8d1A857d176C3E7d5Bd2679A9B85763",MCD_JOIN_ETH_A:"0x2F0b23f53734252Bda2277357e97e1517d6B042A",MCD_FLIP_ETH_A:"0xd8a04F5412223F513DC55F839574430f5EC15531",MCD_JOIN_ETH_B:"0x08638eF1A205bE6762A8b935F5da9b700Cf7322c",MCD_FLIP_ETH_B:"0xD499d71bE9e9E5D236A07ac562F7B6CeacCa624c",MCD_JOIN_ETH_C:"0xF04a5cC80B1E94C69B48f5ee68a08CD2F09A7c3E",MCD_FLIP_ETH_C:"0x7A67901A68243241EBf66beEB0e7b5395582BF17",SAI:"0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359",PIP_SAI:"0x54003DBf6ae6CBa6DDaE571CcdC34d834b44Ab1e",MCD_JOIN_SAI:"0xad37fd42185Ba63009177058208dd1be4b136e6b",MCD_FLIP_SAI:"0x5432b2f3c0DFf95AA191C45E5cbd539E2820aE72",BAT:"0x0D8775F648430679A709E98d2b0Cb6250d2887EF",PIP_BAT:"0xB4eb54AF9Cc7882DF0121d26c5b97E802915ABe6",MCD_JOIN_BAT_A:"0x3D0B1912B66114d4096F48A8CEe3A56C231772cA",MCD_FLIP_BAT_A:"0xaA745404d55f88C108A28c86abE7b5A1E7817c07",WBTC:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",PIP_WBTC:"0xf185d0682d50819263941e5f4EacC763CC5C6C42",MCD_JOIN_WBTC_A:"0xBF72Da2Bd84c5170618Fbe5914B0ECA9638d5eb5",MCD_FLIP_WBTC_A:"0x3E115d85D4d7253b05fEc9C0bB5b08383C2b0603",USDC:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",PIP_USDC:"0x77b68899b99b686F415d074278a9a16b336085A0",MCD_JOIN_USDC_A:"0xA191e578a6736167326d05c119CE0c90849E84B7",MCD_FLIP_USDC_A:"0xE6ed1d09a19Bd335f051d78D5d22dF3bfF2c28B1",MCD_JOIN_USDC_B:"0x2600004fd1585f7270756DDc88aD9cfA10dD0428",MCD_FLIP_USDC_B:"0xec25Ca3fFa512afbb1784E17f1D414E16D01794F",TUSD:"0x0000000000085d4780B73119b644AE5ecd22b376",PIP_TUSD:"0xeE13831ca96d191B688A670D47173694ba98f1e5",MCD_JOIN_TUSD_A:"0x4454aF7C8bb9463203b66C816220D41ED7837f44",MCD_FLIP_TUSD_A:"0xba3f6a74BD12Cf1e48d4416c7b50963cA98AfD61",ZRX:"0xE41d2489571d322189246DaFA5ebDe1F4699F498",PIP_ZRX:"0x7382c066801E7Acb2299aC8562847B9883f5CD3c",MCD_JOIN_ZRX_A:"0xc7e8Cd72BDEe38865b4F5615956eF47ce1a7e5D0",MCD_FLIP_ZRX_A:"0x08c89251FC058cC97d5bA5F06F95026C0A5CF9B0",KNC:"0xdd974D5C2e2928deA5F71b9825b8b646686BD200",PIP_KNC:"0xf36B79BD4C0904A5F350F1e4f776B81208c13069",MCD_FLIP_KNC_A:"0xAbBCB9Ae89cDD3C27E02D279480C7fF33083249b",MCD_JOIN_KNC_A:"0x475F1a89C1ED844A08E8f6C50A00228b5E59E4A9",MANA:"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942",PIP_MANA:"0x8067259EA630601f319FccE477977E55C6078C13",MCD_FLIP_MANA_A:"0x4bf9D2EBC4c57B9B783C12D30076507660B58b3a",MCD_JOIN_MANA_A:"0xA6EA3b9C04b8a38Ff5e224E7c3D6937ca44C0ef9",PAXUSD:"0x8E870D67F660D95d5be530380D0eC0bd388289E1",PIP_PAXUSD:"0x043B963E1B2214eC90046167Ea29C2c8bDD7c0eC",MCD_JOIN_PAXUSD_A:"0x7e62B7E279DFC78DEB656E34D6a435cC08a44666",MCD_FLIP_PAXUSD_A:"0x52D5D1C05CC79Fc24A629Cb24cB06C5BE5d766E7",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",PIP_USDT:"0x7a5918670B0C390aD25f7beE908c1ACc2d314A3C",MCD_JOIN_USDT_A:"0x0Ac6A1D74E84C2dF9063bDDc31699FF2a2BB22A2",MCD_FLIP_USDT_A:"0x667F41d0fDcE1945eE0f56A79dd6c142E37fCC26",COMP:"0xc00e94Cb662C3520282E6f5717214004A7f26888",PIP_COMP:"0xBED0879953E633135a48a157718Aa791AC0108E4",MCD_JOIN_COMP_A:"0xBEa7cDfB4b49EC154Ae1c0D731E4DC773A3265aA",MCD_FLIP_COMP_A:"0x524826F84cB3A19B6593370a5889A58c00554739",LRC:"0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD",PIP_LRC:"0x9eb923339c24c40Bef2f4AF4961742AA7C23EF3a",MCD_JOIN_LRC_A:"0x6C186404A7A238D3d6027C0299D1822c1cf5d8f1",MCD_FLIP_LRC_A:"0x7FdDc36dcdC435D8F54FDCB3748adcbBF70f3dAC",LINK:"0x514910771AF9Ca656af840dff83E8264EcF986CA",PIP_LINK:"0x9B0C694C6939b5EA9584e9b61C7815E8d97D9cC7",MCD_JOIN_LINK_A:"0xdFccAf8fDbD2F4805C174f856a317765B49E4a50",MCD_FLIP_LINK_A:"0xB907EEdD63a30A3381E6D898e5815Ee8c9fd2c85",MATIC:"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0",PIP_MATIC:"0x8874964279302e6d4e523Fb1789981C39a1034Ba",MCD_JOIN_MATIC_A:"0x885f16e177d45fC9e7C87e1DA9fd47A9cfcE8E13",WSTETH:"0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0",PIP_WSTETH:"0xFe7a2aC0B945f12089aEEB6eCebf4F384D9f043F",MCD_JOIN_WSTETH_A:"0x10CD5fbe1b404B7E19Ef964B63939907bdaf42E2",YFI:"0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e",PIP_YFI:"0x5F122465bCf86F45922036970Be6DD7F58820214",MCD_JOIN_YFI_A:"0x3ff33d9162aD47660083D7DC4bC02Fb231c81677",MCD_FLIP_YFI_A:"0xEe4C9C36257afB8098059a4763A374a4ECFE28A7",BAL:"0xba100000625a3754423978a60c9317c58a424e3D",PIP_BAL:"0x3ff860c0F28D69F392543A16A397D0dAe85D16dE",MCD_JOIN_BAL_A:"0x4a03Aa7fb3973d8f0221B466EefB53D0aC195f55",MCD_FLIP_BAL_A:"0xb2b9bd446eE5e58036D2876fce62b7Ab7334583e",GUSD:"0x056Fd409E1d7A124BD7017459dFEa2F387b6d5Cd",PIP_GUSD:"0xf45Ae69CcA1b9B043dAE2C83A5B65Bc605BEc5F5",MCD_JOIN_GUSD_A:"0xe29A14bcDeA40d83675aa43B72dF07f649738C8b",MCD_FLIP_GUSD_A:"0xCAa8D152A8b98229fB77A213BE16b234cA4f612f",UNI:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",PIP_UNI:"0xf363c7e351C96b910b92b45d34190650df4aE8e7",MCD_JOIN_UNI_A:"0x3BC3A58b4FC1CbE7e98bB4aB7c99535e8bA9b8F1",MCD_FLIP_UNI_A:"0xF5b8cD9dB5a0EC031304A7B815010aa7761BD426",RENBTC:"0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D",PIP_RENBTC:"0xf185d0682d50819263941e5f4EacC763CC5C6C42",MCD_JOIN_RENBTC_A:"0xFD5608515A47C37afbA68960c1916b79af9491D0",MCD_FLIP_RENBTC_A:"0x30BC6eBC27372e50606880a36B279240c0bA0758",AAVE:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9",PIP_AAVE:"0x8Df8f06DC2dE0434db40dcBb32a82A104218754c",MCD_JOIN_AAVE_A:"0x24e459F61cEAa7b1cE70Dbaea938940A7c5aD46e",MCD_FLIP_AAVE_A:"0x16e1b844094c885a37509a8f76c533B5fbFED13a",UNIV2DAIETH:"0xA478c2975Ab1Ea89e8196811F51A7B7Ade33eB11",PIP_UNIV2DAIETH:"0x87ecBd742cEB40928E6cDE77B2f0b5CFa3342A09",MCD_JOIN_UNIV2DAIETH_A:"0x2502F65D77cA13f183850b5f9272270454094A08",MCD_FLIP_UNIV2DAIETH_A:"0x57dfd99f45747DD55C1c432Db4aEa07FBd5d2B5c",UNIV2WBTCETH:"0xBb2b8038a1640196FbE3e38816F3e67Cba72D940",PIP_UNIV2WBTCETH:"0x771338D5B31754b25D2eb03Cea676877562Dec26",MCD_JOIN_UNIV2WBTCETH_A:"0xDc26C9b7a8fe4F5dF648E314eC3E6Dc3694e6Dd2",MCD_FLIP_UNIV2WBTCETH_A:"0xbc95e8904d879F371Ac6B749727a0EAfDCd2ACB6",UNIV2USDCETH:"0xB4e16d0168e52d35CaCD2c6185b44281Ec28C9Dc",PIP_UNIV2USDCETH:"0xECB03Fec701B93DC06d19B4639AA8b5a838472BE",MCD_JOIN_UNIV2USDCETH_A:"0x03Ae53B33FeeAc1222C3f372f32D37Ba95f0F099",MCD_FLIP_UNIV2USDCETH_A:"0x48d2C08b93E57701C8ae8974Fc4ADd725222B0BB",UNIV2DAIUSDC:"0xAE461cA67B15dc8dc81CE7615e0320dA1A9aB8D5",PIP_UNIV2DAIUSDC:"0x25CD858a00146961611b18441353603191f110A0",MCD_JOIN_UNIV2DAIUSDC_A:"0xA81598667AC561986b70ae11bBE2dd5348ed4327",MCD_FLIP_UNIV2DAIUSDC_A:"0x4a613f79a250D522DdB53904D87b8f442EA94496",UNIV2ETHUSDT:"0x0d4a11d5EEaaC28EC3F61d100daF4d40471f1852",PIP_UNIV2ETHUSDT:"0x9b015AA3e4787dd0df8B43bF2FE6d90fa543E13B",MCD_JOIN_UNIV2ETHUSDT_A:"0x4aAD139a88D2dd5e7410b408593208523a3a891d",MCD_FLIP_UNIV2ETHUSDT_A:"0x118d5051e70F9EaF3B4a6a11F765185A2Ca0802E",UNIV2LINKETH:"0xa2107FA5B38d9bbd2C461D6EDf11B11A50F6b974",PIP_UNIV2LINKETH:"0x628009F5F5029544AE84636Ef676D3Cc5755238b",MCD_JOIN_UNIV2LINKETH_A:"0xDae88bDe1FB38cF39B6A02b595930A3449e593A6",MCD_FLIP_UNIV2LINKETH_A:"0xb79f818E3c73FCA387845f892356224CA75eac4b",UNIV2UNIETH:"0xd3d2E2692501A5c9Ca623199D38826e513033a17",PIP_UNIV2UNIETH:"0x8Ce9E9442F2791FC63CD6394cC12F2dE4fbc1D71",MCD_JOIN_UNIV2UNIETH_A:"0xf11a98339FE1CdE648e8D1463310CE3ccC3d7cC1",MCD_FLIP_UNIV2UNIETH_A:"0xe5ED7da0483e291485011D5372F3BF46235EB277",UNIV2WBTCDAI:"0x231B7589426Ffe1b75405526fC32aC09D44364c4",PIP_UNIV2WBTCDAI:"0x5FB5a346347ACf4FCD3AAb28f5eE518785FB0AD0",MCD_JOIN_UNIV2WBTCDAI_A:"0xD40798267795Cbf3aeEA8E9F8DCbdBA9b5281fcC",MCD_FLIP_UNIV2WBTCDAI_A:"0x172200d12D09C2698Dd918d347155fE6692f5662",UNIV2AAVEETH:"0xDFC14d2Af169B0D36C4EFF567Ada9b2E0CAE044f",PIP_UNIV2AAVEETH:"0x8D34DC2c33A6386E96cA562D8478Eaf82305b81a",MCD_JOIN_UNIV2AAVEETH_A:"0x42AFd448Df7d96291551f1eFE1A590101afB1DfF",MCD_FLIP_UNIV2AAVEETH_A:"0x20D298ca96bf8c2000203B911908DbDc1a8Bac58",UNIV2DAIUSDT:"0xB20bd5D04BE54f870D5C0d3cA85d82b34B836405",PIP_UNIV2DAIUSDT:"0x69562A7812830E6854Ffc50b992c2AA861D5C2d3",MCD_JOIN_UNIV2DAIUSDT_A:"0xAf034D882169328CAf43b823a4083dABC7EEE0F4",MCD_FLIP_UNIV2DAIUSDT_A:"0xD32f8B8aDbE331eC0CfADa9cfDbc537619622cFe"},T={REP:require("./abis/REP.json"),ZRX:require("./abis/ZRX.json"),OMG:require("./abis/OMG.json"),BAT:require("./abis/BAT.json"),DGD:require("./abis/DGD.json"),KNC:require("./abis/KNC.json"),GNT:require("./abis/GNT.json"),SAI:require("./abis/DSToken.json"),CDP_MANAGER:require("./abis/DssCdpManager.json"),ETH:require("./abis/WETH9_.json"),GET_CDPS:require("./abis/GetCdps.json"),MCD_ADM:require("./abis/DSRoles.json"),MCD_CAT:require("./abis/Cat.json"),OLD_MCD_CAT:require("./abis/Cat.json"),MCD_DAI:require("./abis/DSToken.json"),MCD_DAI_GUARD:require("./abis/DSGuard.json"),MCD_DEPLOY:require("./abis/DssDeploy.json"),MCD_FLAP:require("./abis/Flapper.json"),"MCD_FLIP_*":require("./abis/Flipper.json"),MCD_FLOP:require("./abis/Flopper.json"),MCD_GOV:require("./abis/DSToken.json"),"MCD_JOIN_*":require("./abis/GemJoin.json"),MCD_JOIN_OMG_A:require("./abis/GemJoin2.json"),MCD_JOIN_DGD_A:require("./abis/GemJoin2.json"),MCD_JOIN_GNT_A:require("./abis/GemJoin4.json"),MCD_JOIN_DAI:require("./abis/DaiJoin.json"),MCD_JUG:require("./abis/Jug.json"),MCD_END:require("./abis/End.json"),MCD_ESM:require("./abis/ESM.json"),MCD_PAUSE:require("./abis/DSPause.json"),MCD_PAUSE_PROXY:require("./abis/Plan.json"),MCD_POT:require("./abis/Pot.json"),MCD_SPOT:require("./abis/Spotter.json"),MCD_VAT:require("./abis/Vat.json"),MCD_VOW:require("./abis/Vow.json"),MULTICALL:require("./abis/MultiCall.json"),"PIP_*":require("./abis/DSValue.json"),PROXY_ACTIONS:require("./abis/DssProxyActions.json"),PROXY_ACTIONS_DSR:require("./abis/DssProxyActionsDsr.json"),MIGRATION:require("./abis/ScdMcdMigration.json"),MIGRATION_PROXY_ACTIONS:require("./abis/MigrationProxyActions.json"),USDC:require("./abis/USDC.json"),WBTC:require("./abis/WBTC.json"),TUSD:require("./abis/DSToken.json"),MANA:require("./abis/DSToken.json"),USDT:require("./abis/DSToken.json"),PAXUSD:require("./abis/DSToken.json"),COMP:require("./abis/DSToken.json"),LRC:require("./abis/DSToken.json"),LINK:require("./abis/DSToken.json"),YFI:require("./abis/DSToken.json"),BAL:require("./abis/DSToken.json"),GUSD:require("./abis/GUSD.json"),UNI:require("./abis/DSToken.json"),RENBTC:require("./abis/DSToken.json"),AAVE:require("./abis/DSToken.json"),MATIC:require("./abis/DSToken.json"),WSTETH:require("./abis/DSToken.json"),UNIV2DAIETH:require("./abis/DSToken.json"),UNIV2WBTCETH:require("./abis/DSToken.json"),UNIV2USDCETH:require("./abis/DSToken.json"),UNIV2DAIUSDC:require("./abis/DSToken.json"),UNIV2ETHUSDT:require("./abis/DSToken.json"),UNIV2LINKETH:require("./abis/DSToken.json"),UNIV2UNIETH:require("./abis/DSToken.json"),UNIV2WBTCDAI:require("./abis/DSToken.json"),UNIV2AAVEETH:require("./abis/DSToken.json"),UNIV2DAIUSDT:require("./abis/DSToken.json")};function P(e,t){return e(t={exports:{}},t.exports),t.exports}var g=P((function(e){var t=function(e){var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r,n){var a=Object.create((t&&t.prototype instanceof u?t:u).prototype),c=new I(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(a,c){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw c;return{value:void 0,done:!0}}for(r.method=a,r.arg=c;;){var i=r.delegate;if(i){var s=l(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=o(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,c),a}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d={};function u(){}function C(){}function f(){}var A={};A[a]=function(){return this};var D=Object.getPrototypeOf,_=D&&D(D(h([])));_&&_!==t&&r.call(_,a)&&(A=_);var p=f.prototype=u.prototype=Object.create(A);function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e,t){var n;this._invoke=function(a,c){function i(){return new t((function(n,i){!function n(a,c,i,s){var d=o(e[a],e,c);if("throw"!==d.type){var u=d.arg,C=u.value;return C&&"object"==typeof C&&r.call(C,"__await")?t.resolve(C.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(C).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(d.arg)}(a,c,n,i)}))}return n=n?n.then(i,i):i()}}function l(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,l(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=o(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function h(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,c=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:B}}function B(){return{value:void 0,done:!0}}return C.prototype=p.constructor=f,f.constructor=C,f[i]=C.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i in e||(e[i]="GeneratorFunction")),e.prototype=Object.create(p),e},e.awrap=function(e){return{__await:e}},b(E.prototype),E.prototype[c]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,a,c){void 0===c&&(c=Promise);var i=new E(s(t,r,n,a),c);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(p),p[i]="Generator",p[a]=function(){return this},p.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=h,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a],i=c.completion;if("root"===c.tryLoc)return n("end");if(c.tryLoc<=this.prev){var s=r.call(c,"catchLoc"),o=r.call(c,"finallyLoc");if(s&&o){if(this.prev<c.catchLoc)return n(c.catchLoc,!0);if(this.prev<c.finallyLoc)return n(c.finallyLoc)}else if(s){if(this.prev<c.catchLoc)return n(c.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return n(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var c=a;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var i=c?c.completion:{};return i.type=e,i.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),F(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;F(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:h(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}})),N=M({});function M(e){var t=e.numArguments;return function(e,r,n){var a=n.value,c=t||a.length;return n.value=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i,s=r[r.length-1];"object"==typeof s&&null!==s&&s.constructor===Object?(r=r.slice(0,r.length-1),i=s):i={};var d=l(g.mark((function t(){var n;return g.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,0;case 2:return i.promise||(i.promise=d),n=[].concat(r,o(c-1-r.length,(function(){})),[i]),t.abrupt("return",a.apply(e,n));case 5:case"end":return t.stop()}}),t)})))();return d},n}}var v={CDP_MANAGER:"mcd:cdpManager",CDP_TYPE:"mcd:cdpType",AUCTION:"mcd:auction",SYSTEM_DATA:"mcd:systemData",SAVINGS:"mcd:savings"},O=new d("1e18"),U=new d("1e27"),S=new d("1e45"),w=i.createCurrency("ETH"),k=i.createCurrency("MKR"),L=i.createCurrency("USD"),V=i.createCurrencyRatio(L,w),H=i.createCurrency("WETH"),R=i.createCurrency("DAI"),j=i.createCurrency("DSR-DAI"),J=i.createCurrency("REP"),G=i.createCurrency("ZRX"),q=i.createCurrency("KNC"),W=i.createCurrency("OMG"),Y=i.createCurrency("BAT"),X=i.createCurrency("DGD"),K=i.createCurrency("GNT"),Z=i.createCurrency("USDC"),z=i.createCurrency("WBTC"),Q=i.createCurrency("TUSD"),$=i.createCurrency("MANA"),ee=i.createCurrency("USDT"),te=i.createCurrency("PAXUSD"),re=i.createCurrency("COMP"),ne=i.createCurrency("LRC"),ae=i.createCurrency("LINK"),ce=i.createCurrency("YFI"),ie=i.createCurrency("BAL"),se=i.createCurrency("GUSD"),oe=i.createCurrency("UNI"),de=i.createCurrency("RENBTC"),ue=i.createCurrency("AAVE"),Ce=i.createCurrency("MATIC"),fe=i.createCurrency("WSTETH"),Ae=i.createCurrency("UNIV2DAIETH"),De=i.createCurrency("UNIV2WBTCETH"),_e=i.createCurrency("UNIV2USDCETH"),pe=i.createCurrency("UNIV2DAIUSDC"),be=i.createCurrency("UNIV2ETHUSDT"),Ee=i.createCurrency("UNIV2LINKETH"),le=i.createCurrency("UNIV2UNIETH"),xe=i.createCurrency("UNIV2WBTCDAI"),Fe=i.createCurrency("UNIV2AAVEETH"),Ie=i.createCurrency("UNIV2DAIUSDT"),he=i.createCurrency("SAI"),Be=[{currency:w,ilk:"ETH-A"},{currency:w,ilk:"ETH-B"},{currency:w,ilk:"ETH-C"},{currency:Y,ilk:"BAT-A"},{currency:Z,ilk:"USDC-A",decimals:6},{currency:z,ilk:"WBTC-A",decimals:8},{currency:Z,ilk:"USDC-B",decimals:6},{currency:Q,ilk:"TUSD-A",decimals:18},{currency:q,ilk:"KNC-A",decimals:18},{currency:G,ilk:"ZRX-A",decimals:18},{currency:$,ilk:"MANA-A",decimals:18},{currency:ee,ilk:"USDT-A",decimals:6},{currency:te,ilk:"PAXUSD-A",decimals:18},{currency:re,ilk:"COMP-A",decimals:18},{currency:ne,ilk:"LRC-A",decimals:18},{currency:ae,ilk:"LINK-A",decimals:18},{currency:ce,ilk:"YFI-A",decimals:18},{currency:ie,ilk:"BAL-A",decimals:18},{currency:se,ilk:"GUSD-A",decimals:2},{currency:oe,ilk:"UNI-A",decimals:18},{currency:de,ilk:"RENBTC-A",decimals:8},{currency:ue,ilk:"AAVE-A",decimals:18},{currency:Ce,ilk:"MATIC-A",decimals:18},{currency:fe,ilk:"WSTETH-A",decimals:18},{currency:Ae,ilk:"UNIV2DAIETH-A",decimals:18},{currency:De,ilk:"UNIV2WBTCETH-A",decimals:18},{currency:_e,ilk:"UNIV2USDCETH-A",decimals:18},{currency:pe,ilk:"UNIV2DAIUSDC-A",decimals:18},{currency:be,ilk:"UNIV2ETHUSDT-A",decimals:18},{currency:Ee,ilk:"UNIV2LINKETH-A",decimals:18},{currency:le,ilk:"UNIV2UNIETH-A",decimals:18},{currency:xe,ilk:"UNIV2WBTCDAI-A",decimals:18},{currency:Fe,ilk:"UNIV2AAVEETH-A",decimals:18},{currency:Ie,ilk:"UNIV2DAIUSDT-A",decimals:18}],ye=[].concat(new Set([].concat(Be.map((function(e){return e.currency})),[R,H,he,j]))),me=(new u).utils;function Te(e){return t(!!e,"argument is falsy"),t("string"==typeof e,"argument is not a string"),C.utils.formatBytes32String(e)}function Pe(e){return Buffer.from(e.replace(/^0x/,""),"hex").toString().replace(/\x00/g,"")}function ge(e,t){if(t.isInstance(e))return e;if("string"==typeof e||"number"==typeof e)return t(e);throw new Error("Can't cast "+e+" as "+t.symbol)}function Ne(e,t){return void 0===t&&(t="ether"),me.fromWei(new d(e).toString(16),t)}function Me(e){return new d(e).toNumber()}function ve(e){return new Promise((function(t){return setTimeout(t,e)}))}function Oe(e,t){return t.eq(0)?i.createCurrencyRatio(L,R)(Infinity):e.div(t)}var Ue=function(){function e(e,r,n,a){void 0===a&&(a={prefetch:!0}),t("number"==typeof e,"ID must be a number"),this.id=e,t(r&&"string"==typeof r,"Must specify ilk"),this.ilk=r,this._cdpManager=n,this.type=n.get(v.CDP_TYPE).getCdpType(null,r),this.currency=this.type.currency,this.cache={},a.prefetch&&this.prefetch()}var r=e.prototype;return r.getOwner=function(){return this._cdpManager.getOwner(this.id)},r.getUrn=function(){return this._cdpManager.getUrn(this.id)},r.lockCollateral=function(e){return e=ge(e,this.currency),this._cdpManager.lock(this.id,this.ilk,e,null)},r.drawDai=function(e,t){return this._cdpManager.draw(this.id,this.ilk,e,{promise:t.promise})},r.lockAndDraw=function(e,r,n){void 0===e&&(e=this.currency(0)),void 0===r&&(r=R(0));var a=n.promise;return t(e&&r,"amounts must be defined"),e=ge(e,this.currency),r=ge(r,R),this._cdpManager.lockAndDraw(this.id,this.ilk,e,r,{promise:a})},r.wipeDai=function(e){return e=ge(e,R),this._cdpManager.wipe(this.id,e,null)},r.unsafeWipe=function(e){return e=ge(e,R),this._cdpManager.unsafeWipe(this.id,e)},r.wipeAll=function(){return this._cdpManager.wipeAll(this.id,null)},r.unsafeWipeAll=function(){return this._cdpManager.unsafeWipeAll(this.id)},r.freeCollateral=function(e){return this.wipeAndFree(void 0,e)},r.give=function(e){return this._cdpManager.give(this.id,e)},r.giveToProxy=function(e){return this._cdpManager.giveToProxy(this.id,e)},r.wipeAndFree=function(e,r,n){void 0===e&&(e=R(0)),void 0===r&&(r=this.currency(0));var a=(void 0===n?{}:n).promise,c=void 0===a?void 0:a;return t(e&&r,"amounts must be defined"),e=ge(e,R),r=ge(r,this.currency),this._cdpManager.wipeAndFree(this.id,this.ilk,e,r,{promise:c})},r.wipeAllAndFree=function(e,r){void 0===e&&(e=this.currency(0));var n=r.promise;return t(e,"free amount must be defined"),e=ge(e,this.currency),this._cdpManager.wipeAllAndFree(this.id,this.ilk,e,{promise:n})},r._getUrnInfo=function(){var e=this;return this._urnInfoPromise||(this._urnInfoPromise=this._cdpManager.getUrn(this.id).then((function(t){return e._cdpManager.vat.urns(Te(e.ilk),t)}))),this._urnInfoPromise.then((function(t){return e.cache.urnInfo=t,t}))},r._getCached=function(e){return t(this.cache[e],e+" is not cached"),this.cache[e]},r.prefetch=function(){return Promise.all([this._getUrnInfo(),this.type.prefetch()])},r.reset=function(){this._urnInfoPromise=null,this.cache={},this.type.reset()},F(e,[{key:"collateralAmount",get:function(){return function(e,t){return e.wei(t._hex)}(this.currency,this._getCached("urnInfo").ink)}},{key:"collateralValue",get:function(){return this.collateralAmount.times(this.type.price)}},{key:"debtValue",get:function(){return e=this._getCached("urnInfo").art,t=this.type._getCached("vatInfo").rate,(e=R.wei(e._hex)).times(t._hex).shiftedBy(-27);var e,t}},{key:"collateralizationRatio",get:function(){return Oe(this.collateralValue,this.debtValue)}},{key:"liquidationPrice",get:function(){return t=this.debtValue,r=this.type.liquidationRatio,(e=this.collateralAmount).eq(0)?i.createCurrencyRatio(L,e.type)(Infinity):t.times(r).div(e);var e,t,r}},{key:"isSafe",get:function(){return this.type.price.gte(this.liquidationPrice)}},{key:"minSafeCollateralAmount",get:function(){return e=this.type.price,this.debtValue.times(this.type.liquidationRatio).div(e);var e}},{key:"collateralAvailable",get:function(){return this.collateralAmount.minus(this.minSafeCollateralAmount)}},{key:"daiAvailable",get:function(){return e=this.debtValue,t=this.collateralValue.div(this.type.liquidationRatio),e.lt(t)?R(t.minus(e)):R(0);var e,t}}]),e}();c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object]),c.__metadata("design:returntype",void 0)],Ue.prototype,"drawDai",null),c.__decorate([M({numArguments:3}),c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object]),c.__metadata("design:returntype",void 0)],Ue.prototype,"lockAndDraw",null),c.__decorate([M({numArguments:3}),c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object]),c.__metadata("design:returntype",void 0)],Ue.prototype,"wipeAndFree",null),c.__decorate([M({numArguments:1}),c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object]),c.__metadata("design:returntype",void 0)],Ue.prototype,"wipeAllAndFree",null);var Se={create:function(){var e=l(g.mark((function e(t,r,n){var a,c;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getNewCdpId(t),c=new Ue(a,r,n),e.next=4,c.prefetch();case 4:return e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},we=function(e){return"0x"+e.slice(26).toLowerCase()},ke=function(e){return _(D.encodeFunctionSignature(e),66,"0")},Le=ke("give(uint256,address)"),Ve=ke("exit(address,uint256)"),He=ke("join(address,uint256)"),Re=ke("join(uint256)"),je=ke("exit(uint256)"),Je=ke("frob(bytes32,address,address,address,int256,int256)"),Ge=ke("frob(uint256,int256,int256)"),qe=ke("move(uint256,address,uint256)"),We=function(e){var t=D.encodeFunctionSignature("frob(uint256,int256,int256)").slice(2),r=D.decodeParameters(["uint256","int256","int256"],"0x"+e.replace(new RegExp("^.+?"+t),""));return{id:r[0].toString(),dink:r[1],dart:r[2]}},Ye=function(e){var t=D.encodeFunctionSignature("frob(bytes32,address,address,address,int256,int256)").slice(2),r=D.decodeParameters(["bytes32","address","address","address","int256","int256"],"0x"+e.replace(new RegExp("^.+?"+t),""));return{ilk:Pe(r[0].toString()),urnHandler:r[1].toString(),dink:r[4].toString(),dart:r[5].toString()}};function Xe(){return(Xe=l(g.mark((function e(t,r,n){var a,c,i,s,o,u,C,f,_,E,x,F,I,h,B,y,m,T,P,N,M,v,O,U,S;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.get("smartContract").getContractAddress("MCD_JOIN_DAI"),c=t.get("smartContract").getContractAddress("CDP_MANAGER"),i=t.get("smartContract").getContractAddress("MIGRATION"),s=t.get("smartContract").getContractAddress("MCD_VAT"),o=t.get("smartContract").getContractAddress("MCD_CAT"),u=t.get("smartContract").getContractAddress("OLD_MCD_CAT"),!n[C=r.id]){e.next=9;break}return e.abrupt("return",n[C]);case 9:return f=t.get("web3"),_=[1,42].includes(f.network)?86e5:1,E={},x=function(e){return E[e]||(E[e]=f.getBlock(e,!1)),E[e]},e.next=15,t.getUrn(C);case 15:return F=e.sent.toLowerCase(),I=r.ilk,h=t.get("smartContract").getContract("MCD_CAT").interface.getEvent("Bite"),B=t.get("smartContract").getContract("CDP_MANAGER").interface.encodeFilterTopics("NewCdp",[]),y=B[0],m=t.get("smartContract").getContract("MCD_CAT").interface.encodeFilterTopics("Bite",[]),T=m[0],P={request:f.getPastLogs({address:c,topics:[y,null,null,"0x"+A(C.toString(16),64,"0")],fromBlock:_}),result:function(e){return e.map((function(e){return{type:"OPEN",order:0,block:e.blockNumber,txHash:e.transactionHash,id:C,ilk:I}}))}},N={request:f.getPastLogs({address:c,topics:[Ge,null,"0x"+A(C.toString(16),64,"0")],fromBlock:_}),result:function(){var e=l(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce(function(){var e=l(g.mark((function e(t,r){var n,i,s,o,u,D,_,p,b;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.blockNumber,i=r.topics,s=We(r.data),o=s.dart,e.next=4,t;case 4:if(t=e.sent,!(o=new d(o)).lt(0)&&!o.gt(0)){e.next=15;break}return D=i[1],e.next=10,Promise.all([f.getPastLogs({address:a,topics:[o.lt(0)?He:Ve,D],fromBlock:n,toBlock:n}),f.getPastLogs({address:c,topics:[qe,D,"0x"+A(C.toString(16),64,"0")],fromBlock:n,toBlock:n})]);case 10:p=(_=e.sent)[1],b=_[0].filter((function(e){return p.some((function(t){return t.transactionHash===e.transactionHash}))})),(u=t).push.apply(u,b.map((function(e){var t=e.address,r=e.blockNumber,n=e.transactionHash,a=e.topics;return{type:o.lt(0)?"PAY_BACK":"GENERATE",order:2,block:r,txHash:n,id:C,ilk:I,adapter:t.toLowerCase(),proxy:we(a[1]),recipient:we(a[2]),amount:Ne(a[3])}})));case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M={request:f.getPastLogs({address:s,topics:[Je,null,"0x"+A(F.slice(2),64,"0")],fromBlock:_}),result:function(e){return e.map((function(e){var t=e.address,n=e.blockNumber,a=e.transactionHash,c=e.topics,i=e.transactionLogIndex,s=Ye(e.data),o=s.ilk,u=s.dink,f=s.urnHandler;u=new d(u);var A=we(c[2])===f.toLowerCase()&&we(c[3])==f.toLowerCase()&&1===parseInt(i,16);return u.lt(0)||u.gt(0)?{type:u.lt(0)?"WITHDRAW":A?"RECLAIM":"DEPOSIT",order:u.lt(0)?3:1,block:n,txHash:a,id:C,ilk:o,gem:r.currency.symbol,adapter:t.toLowerCase(),amount:Math.abs(Ne(u)).toString()}:null}))}},v={request:f.getPastLogs({address:c,topics:[Le,null,"0x"+A(C.toString(16),64,"0")],fromBlock:_}),result:function(e){return e.map((function(e){var t=e.blockNumber,r=e.transactionHash,n=e.topics,a=we(n[1]);return{type:a===i?"MIGRATE":"GIVE",order:1,block:t,txHash:r,prevOwner:a,id:Me(n[2]),newOwner:we(n[3])}}))}},O=function(e,t,n){return{request:f.getPastLogs({address:e,topics:[T,null,"0x"+A(F.slice(2),64,"0")],fromBlock:t,toBlock:n}),result:function(e){return e.map((function(e){var t=e.topics,n=e.data,a=e.blockNumber,c=e.transactionHash,i=h.inputs.names.reduceRight((function(e,t,r){return["ilk","urn"].some((function(e){return e===t}))?e:[{type:h.inputs.types[r],name:t}].concat(e)}),[]),s=D.decodeLog(i,n,t),o=s.ink;return{type:"BITE",auctionId:Me(s.id),amount:new d(o).shiftedBy(-18),gem:r.currency.symbol,block:a,txHash:c}}))}}},U=[1,42].includes(f.network)?10769102:1,S=[P,N,M,v,O(o,U),O(u,_,U)],n[C]=l(g.mark((function e(){var t;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(S.map((function(e){return e.request})));case 2:return t=e.sent,e.t0=p,e.t1=Promise,e.t2=b,e.next=8,Promise.all(t.map((function(e,t){return S[t].result(e)})));case 8:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3).filter((function(e){return null!==e})).map(function(){var e=l(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.block);case 2:return t.timestamp=e.sent.timestamp,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=12,e.t1.all.call(e.t1,e.t4);case 12:return e.t5=e.sent,e.t6=["block","order"],e.t7=["desc","desc"],e.abrupt("return",(0,e.t0)(e.t5,e.t6,e.t7).map((function(e){return delete e.order,e})));case 16:case"end":return e.stop()}}),e)})))(),e.abrupt("return",n[C]);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e,t,r){return Ze.apply(this,arguments)}function Ze(){return(Ze=l(g.mark((function e(t,r,n){var a,c,i,s,o,d,u;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.get("smartContract").getContractAddress("MCD_JOIN_DAI"),c=t.get("smartContract").getContractAddress("MCD_POT"),r=r.toLowerCase(),!n[r]){e.next=5;break}return e.abrupt("return",n[r]);case 5:return i=t.get("web3"),s=[1,42].includes(i.network)?86e5:1,o={},d=function(e){return o[e]||(o[e]=i.getBlock(e,!1)),o[e]},u=[{request:i.getPastLogs({address:c,topics:[Re,"0x"+A(r.slice(2),64,"0")],fromBlock:s}),result:function(){var e=l(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce(function(){var e=l(g.mark((function e(t,n){var c,o,d;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.blockNumber,o=n.transactionHash,e.next=3,t;case 3:return t=e.sent,e.next=6,i.getPastLogs({address:a,topics:[He,"0x"+A(r.slice(2),64,"0")],fromBlock:s});case 6:return d=e.sent.filter((function(e){return e.transactionHash===o})),t.push({type:"DSR_DEPOSIT",order:0,block:c,txHash:o,amount:Ne(d[0].topics[3]),gem:"DAI"}),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{request:i.getPastLogs({address:c,topics:[je,"0x"+A(r.slice(2),64,"0")],fromBlock:s}),result:function(){var e=l(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.reduce(function(){var e=l(g.mark((function e(t,n){var c,o,d;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.blockNumber,o=n.transactionHash,e.next=3,t;case 3:return t=e.sent,e.next=6,i.getPastLogs({address:a,topics:[Ve,"0x"+A(r.slice(2),64,"0")],fromBlock:s});case 6:return d=e.sent.filter((function(e){return e.transactionHash===o})),t.push({type:"DSR_WITHDRAW",order:0,block:c,txHash:o,amount:Ne(d[0].topics[3]),gem:"DAI"}),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],n[r]=l(g.mark((function e(){var t;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(u.map((function(e){return e.request})));case 2:return t=e.sent,e.t0=p,e.t1=Promise,e.t2=b,e.next=8,Promise.all(t.map((function(e,t){return u[t].result(e)})));case 8:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3).filter((function(e){return null!==e})).map(function(){var e=l(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t.block);case 2:return t.timestamp=e.sent.timestamp,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=12,e.t1.all.call(e.t1,e.t4);case 12:return e.t5=e.sent,e.t6=["block","order"],e.t7=["desc","desc"],e.abrupt("return",(0,e.t0)(e.t5,e.t6,e.t7).map((function(e){return delete e.order,e})));case 16:case"end":return e.stop()}}),e)})))(),e.abrupt("return",n[r]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ze=v.CDP_MANAGER,Qe=v.CDP_TYPE,$e=v.SYSTEM_DATA,et=function(e){function r(t){var r;return void 0===t&&(t=ze),(r=e.call(this,t,["smartContract",Qe,$e,"accounts","proxy","token","web3"])||this)._getCdpIdsPromises={},r._getUrnPromises={},r}h(r,e);var n=r.prototype;return n.getCdpIds=function(){var e=l(g.mark((function e(r,n){var a,c,i,s;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!0),a=n?"getCdpsDesc":"getCdpsAsc",this._getCdpIdsPromises[r]||(this._getCdpIdsPromises[r]=this.get("smartContract").getContract("GET_CDPS")[a](this._managerAddress,r)),e.next=5,this._getCdpIdsPromises[r];case 5:return t((i=(c=e.sent)[0]).length===(s=c[2]).length,"ids and ilks must be the same length"),e.abrupt("return",i.map((function(e,t){return{id:e.toNumber(),ilk:Pe(s[t])}})));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.getCdp=function(){var e=l(g.mark((function e(t,r){var n,a,c,i;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!f(r,"cache")||r.cache,!(a=this._getFromInstanceCache(t,n))){e.next=4;break}return e.abrupt("return",a);case 4:i=0;case 5:if(!(i<5)){e.next=16;break}return e.next=8,this.getIlkForCdp(t);case 8:if(!(c=e.sent)){e.next=11;break}return e.abrupt("break",16);case 11:return e.next=13,ve(5e3);case 13:i++,e.next=5;break;case 16:if(a=new Ue(t,c,this,r),this._putInInstanceCache(t,a,n),f(r,"prefetch")&&!r.prefetch){e.next=21;break}return e.next=21,a.prefetch();case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.getIlkForCdp=function(){var e=l(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pe,e.next=3,this._manager.ilks(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.getCombinedDebtValue=function(){var e=l(g.mark((function e(t,r){var n,a=this;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!0),e.next=3,this.getCdpIds(t,r);case 3:return n=e.sent,e.next=6,Promise.all(n.map((function(e){var t=new Ue(e.id,e.ilk,a);return t.prefetch().then((function(){return t.debtValue}))})));case 6:return e.abrupt("return",e.sent.reduce((function(e,t){return e.plus(t)})));case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.open=function(){var e=l(g.mark((function e(t,r){var n,a,c,i,s,o;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.promise,c=void 0===(a=r.cache)||a,e.next=3,this.get("proxy").ensureProxy({promise:n});case 3:return i=e.sent,s=this.proxyActions.open(this._managerAddress,Te(t),i,{dsProxy:!0,promise:n,metadata:{ilk:t}}),e.t0=Se,e.next=8,s;case 8:return e.t1=e.sent,e.t2=t,e.t3=this,e.next=13,e.t0.create.call(e.t0,e.t1,e.t2,e.t3);case 13:return this._putInInstanceCache((o=e.sent).id,o,c),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),n.reclaimCollateral=function(){var e=l(g.mark((function e(t,r,n){var a;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.promise,r=ge(r,w),e.abrupt("return",this.proxyActions.frob(this._managerAddress,this.getIdBytes(t),r.toFixed("wei"),0,{dsProxy:!0,promise:a,metadata:{id:t,dink:r}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.openLockAndDraw=function(){var e=l(g.mark((function e(t,r,n,a){var c,i,s,o,d,u;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.promise,s=void 0===(i=a.cache)||i,o=this.get(Qe).getCdpType(r.type,t),d=this.lockAndDraw(null,o.ilk,r,n,{promise:c}),e.t0=Se,e.next=6,d;case 6:return e.t1=e.sent,e.t2=o.ilk,e.t3=this,e.next=11,e.t0.create.call(e.t0,e.t1,e.t2,e.t3);case 11:return this._putInInstanceCache((u=e.sent).id,u,s),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),n.lockAndDraw=function(){var e=l(g.mark((function e(r,n,a,c,s){var o,d,u,C,f,A,D,_;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===c&&(c=R(0)),d=s.promise,t(a&&c,"both amounts must be specified"),t(a instanceof i.Currency,"lockAmount must be a Currency value"),c=ge(c,R),e.next=7,this.get("proxy").ensureProxy({promise:d});case 7:if(u=e.sent,C=this.get("smartContract").getContractAddress("MCD_JUG"),f=w.isInstance(a),A=K.isInstance(a),D=tt(f,A,r),_=[this._managerAddress,C,this._adapterAddress(n),this._adapterAddress("DAI"),r||Te(n),!f&&a.toFixed(this._precision(a,n)),c.toFixed("wei"),{dsProxy:!0,value:f?a.toFixed("wei"):0,promise:d,metadata:{id:r,ilk:n,lockAmount:a,drawAmount:c}}].filter((function(e){return e})),"openLockGNTAndDraw"!==D){e.next=16;break}return e.next=16,this.get("token").getToken("GNT").transfer(u,a);case 16:if(!r||!A){e.next=19;break}return e.next=19,rt(a,u,this);case 19:return f||"openLockGNTAndDraw"===D||_.splice(-1,0,!K.isInstance(a)),e.next=22,(o=this.proxyActions)[D].apply(o,_);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),n.lock=function(){var e=l(g.mark((function e(t,r,n,a,c){var i,s,o,d,u,C,f;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c.promise,a){e.next=5;break}return e.next=4,this.getOwner(t);case 4:a=e.sent;case 5:return e.next=7,this.get("proxy").ensureProxy({promise:s});case 7:if(o=e.sent,d=w.isInstance(n),u=K.isInstance(n),C="safeLock"+(d?"ETH":"Gem"),f=[this._managerAddress,this._adapterAddress(r),t,!d&&n.toFixed(this._precision(n,r)),a,{dsProxy:!0,value:d?n.toFixed("wei"):0,promise:s,metadata:{id:t,ilk:r,lockAmount:n}}].filter((function(e){return e})),!t||!u){e.next=15;break}return e.next=15,rt(n,o,this);case 15:return d||f.splice(-2,0,!K.isInstance(n)),e.abrupt("return",(i=this.proxyActions)[C].apply(i,f));case 17:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),n.draw=function(){var e=l(g.mark((function e(t,r,n,a){var c;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.promise,e.abrupt("return",this.proxyActions.draw(this._managerAddress,this.get("smartContract").getContractAddress("MCD_JUG"),this._adapterAddress("DAI"),this.getIdBytes(t),ge(n,R).toFixed("wei"),{dsProxy:!0,promise:c,metadata:{id:t,ilk:r,drawAmount:n}}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),n.wipeAndFree=function(e,t,r,n,a){void 0===r&&(r=R(0));var c=a.promise,i=w.isInstance(n);return this.proxyActions[i?"wipeAndFreeETH":"wipeAndFreeGem"](this._managerAddress,this._adapterAddress(t),this._adapterAddress("DAI"),this.getIdBytes(e),n.toFixed(this._precision(n,t)),r.toFixed("wei"),{dsProxy:!0,promise:c,metadata:{id:e,ilk:t,wipeAmount:r,freeAmount:n}})},n.wipe=function(){var e=l(g.mark((function e(t,r,n,a){var c;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.promise,n){e.next=5;break}return e.next=4,this.getOwner(t);case 4:n=e.sent;case 5:return e.abrupt("return",this.proxyActions.safeWipe(this._managerAddress,this._adapterAddress("DAI"),this.getIdBytes(t),r.toFixed("wei"),n,{dsProxy:!0,promise:c,metadata:{id:t,wipeAmount:r}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),n.unsafeWipe=function(e,t,r){var n=r.promise;return this.proxyActions.wipe(this._managerAddress,this._adapterAddress("DAI"),this.getIdBytes(e),t.toFixed("wei"),{dsProxy:!0,promise:n,metadata:{id:e,wipeAmount:t}})},n.wipeAll=function(){var e=l(g.mark((function e(t,r,n){var a,c;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=void 0===(a=(void 0===n?{}:n).promise)?void 0:a,r){e.next=5;break}return e.next=4,this.getOwner(t);case 4:r=e.sent;case 5:return e.abrupt("return",this.proxyActions.safeWipeAll(this._managerAddress,this._adapterAddress("DAI"),this.getIdBytes(t),r,{dsProxy:!0,promise:c,metadata:{id:t}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),n.unsafeWipeAll=function(e,t){var r=(void 0===t?{}:t).promise,n=void 0===r?void 0:r;return this.proxyActions.wipeAll(this._managerAddress,this._adapterAddress("DAI"),this.getIdBytes(e),{dsProxy:!0,promise:n,metadata:{id:e}})},n.wipeAllAndFree=function(e,t,r,n){var a=n.promise,c=w.isInstance(r);return this.proxyActions[c?"wipeAllAndFreeETH":"wipeAllAndFreeGem"](this._managerAddress,this._adapterAddress(t),this._adapterAddress("DAI"),this.getIdBytes(e),r.toFixed(this._precision(r,t)),{dsProxy:!0,promise:a,metadata:{id:e,ilk:t,freeAmount:r}})},n.give=function(e,t,r){var n=r.promise;return this.proxyActions.give(this._managerAddress,this.getIdBytes(e),t,{dsProxy:!0,promise:n,metadata:{id:e}})},n.giveToProxy=function(e,t,r){var n=r.promise;return this.proxyActions.giveToProxy(this._contractAddress("PROXY_REGISTRY"),this._managerAddress,this.getIdBytes(e),t,{dsProxy:!0,promise:n,metadata:{id:e,address:t}})},n.getUrn=function(e){return this._getUrnPromises[e]||(this._getUrnPromises[e]=this._manager.urns(e)),this._getUrnPromises[e]},n.getOwner=function(e){return this._manager.owns(this.getIdBytes(e))},n.getIdBytes=function(e,r){return void 0===r&&(r=!0),t("number"==typeof e,"ID must be a number"),(r?"0x":"")+A(e.toString(16),24,"0")},n.reset=function(){this._getCdpIdsPromises={},this._getUrnPromises={}},n._contractAddress=function(e){return this.get("smartContract").getContractAddress(e)},n._adapterAddress=function(e){return this.get($e).adapterAddress(e)},n._precision=function(e,t){return"ETH"===e.type.symbol?"wei":this.get(Qe).getCdpType(e.type,t).decimals},n._getFromInstanceCache=function(e,t){if(t)return this._instanceCache||(this._instanceCache={}),this._instanceCache[e]||void 0},n._putInInstanceCache=function(e,t,r){r&&(this._instanceCache||(this._instanceCache={}),this._instanceCache[e]=t)},n.getNewCdpId=function(e){var r=e.receipt.logs,n=this.get("smartContract").getContract("CDP_MANAGER"),a=n.interface.encodeFilterTopics("NewCdp",[])[0],c=r.filter((function(e){return e.topics[0].toLowerCase()===a.toLowerCase()}))[0],i=n.interface.parseLog({data:c.data,topics:c.topics}).args;return t(i.cdp,"could not find log for NewCdp event"),parseInt(i.cdp)},n.getEventHistory=function(e){return this._eventHistoryCache||(this._eventHistoryCache={}),function(e,t,r){return Xe.apply(this,arguments)}(this,e,this._eventHistoryCache)},n.resetEventHistoryCache=function(e){void 0===e&&(e=null),null!==e?delete this._eventHistoryCache[e]:this._eventHistoryCache={}},F(r,[{key:"proxyActions",get:function(){return this.get("smartContract").getContract("PROXY_ACTIONS")}},{key:"vat",get:function(){return this.get($e).vat}},{key:"_manager",get:function(){return this.get("smartContract").getContract("CDP_MANAGER")}},{key:"_managerAddress",get:function(){return this._contractAddress("CDP_MANAGER")}}]),r}(s.LocalService);function tt(e,t,r){return r&&e?"lockETHAndDraw":e?"openLockETHAndDraw":!r&&t?"openLockGNTAndDraw":r?"lockGemAndDraw":"openLockGemAndDraw"}function rt(e,t,r){return nt.apply(this,arguments)}function nt(){return(nt=l(g.mark((function e(t,r,n){var a,c;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.get("token").getToken(K),c=n.get("smartContract").getContract("MCD_JOIN_GNT_A"),e.next=4,c.bags(r);case 4:return e.abrupt("return",a.transfer(e.sent,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"open",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"reclaimCollateral",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"openLockAndDraw",null),c.__decorate([M({numArguments:5}),c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object,Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"lockAndDraw",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object,Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"lock",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"draw",null),c.__decorate([M({numArguments:5}),c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object,Object,Object]),c.__metadata("design:returntype",void 0)],et.prototype,"wipeAndFree",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"wipe",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object]),c.__metadata("design:returntype",void 0)],et.prototype,"unsafeWipe",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object]),c.__metadata("design:returntype",Promise)],et.prototype,"wipeAll",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object]),c.__metadata("design:returntype",void 0)],et.prototype,"unsafeWipeAll",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object,Object]),c.__metadata("design:returntype",void 0)],et.prototype,"wipeAllAndFree",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object]),c.__metadata("design:returntype",void 0)],et.prototype,"give",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object,Object]),c.__metadata("design:returntype",void 0)],et.prototype,"giveToProxy",null);var at=function(e){function t(t){return void 0===t&&(t=v.SAVINGS),e.call(this,t,["smartContract","proxy","accounts","web3",v.SYSTEM_DATA])||this}h(t,e);var r=t.prototype;return r.join=function(){var e=l(g.mark((function e(t,r){var n;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.promise,e.next=3,this.get("proxy").ensureProxy();case 3:return e.abrupt("return",this._proxyActions.join(this._daiAdapterAddress,this._pot.address,t.toFixed("wei"),{dsProxy:!0,promise:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.exit=function(){var e=l(g.mark((function e(t,r){var n;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.promise,e.next=3,this.get("proxy").ensureProxy();case 3:return e.abrupt("return",this._proxyActions.exit(this._daiAdapterAddress,this._pot.address,t.toFixed("wei"),{dsProxy:!0,promise:n}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.exitAll=function(){var e=l(g.mark((function e(t){var r;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.promise,e.next=3,this.get("proxy").ensureProxy();case 3:return e.abrupt("return",this._proxyActions.exitAll(this._daiAdapterAddress,this._pot.address,{dsProxy:!0,promise:r}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.balance=function(){var e=l(g.mark((function e(){var t;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("proxy").currentProxy();case 2:return e.abrupt("return",(t=e.sent)?this.balanceOf(t):R(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.balanceOf=function(){var e=l(g.mark((function e(t){var r;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,this._pot.pie(t);case 3:return e.t1=e.sent._hex,r=new e.t0(e.t1),e.next=7,this.chi();case 7:return e.abrupt("return",R(r.times(e.sent).div(O).dp(18)));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.getTotalDai=function(){var e=l(g.mark((function e(){var t;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,this._pot.Pie();case 3:return e.t1=e.sent._hex,t=new e.t0(e.t1),e.next=7,this.chi();case 7:return e.abrupt("return",R(t.times(e.sent).div(O).dp(18)));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getYearlyRate=function(){var e=l(g.mark((function e(){var t;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,this._pot.dsr();case 3:return e.t1=e.sent._hex,t=new e.t0(e.t1).div(U),e.abrupt("return",t.pow(31536e3).minus(1));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.chi=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d,e.next=3,this._pot.chi();case 3:return e.t1=e.sent._hex,e.abrupt("return",new e.t0(e.t1).div(U));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getEventHistory=function(e){return this._eventHistoryCache||(this._eventHistoryCache={}),Ke(this,e,this._eventHistoryCache)},r.getEarningsToDate=function(){var e=l(g.mark((function e(t){var r,n,a;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._eventHistoryCache||(this._eventHistoryCache={}),e.next=3,Ke(this,t,this._eventHistoryCache);case 3:return r=e.sent,n=new d(0),r.forEach((function(e){var t=e.type,r=e.amount;"DSR_DEPOSIT"===t&&(n=n.plus(r)),"DSR_WITHDRAW"===t&&(n=n.minus(r))})),e.next=8,this.balanceOf(t);case 8:return e.abrupt("return",(a=e.sent).gt(n)?a.minus(n):R(0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.resetEventHistoryCache=function(e){void 0===e&&(e=null),null!==e?delete this._eventHistoryCache[e]:this._eventHistoryCache={}},F(t,[{key:"_proxyActions",get:function(){return this.get("smartContract").getContract("PROXY_ACTIONS_DSR")}},{key:"_pot",get:function(){return this.get("smartContract").getContract("MCD_POT")}},{key:"_daiAdapterAddress",get:function(){return this.get(v.SYSTEM_DATA).adapterAddress("DAI")}}]),t}(s.PublicService);c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object]),c.__metadata("design:returntype",Promise)],at.prototype,"join",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object,Object]),c.__metadata("design:returntype",Promise)],at.prototype,"exit",null),c.__decorate([N,c.__metadata("design:type",Function),c.__metadata("design:paramtypes",[Object]),c.__metadata("design:returntype",Promise)],at.prototype,"exitAll",null);var ct=function(){function e(e,r,n){var a=r.currency,c=r.ilk,i=r.decimals;void 0===n&&(n={prefetch:!0}),t(a&&c,"currency and ilk are required"),this._cdpTypeService=e,this._systemData=e.get(v.SYSTEM_DATA),this._web3Service=this._systemData.get("smartContract").get("web3"),this.currency=a,this.decimals=i||18,this.ilk=c,this._ilkBytes=Te(this.ilk),this.cache={},n.prefetch&&this.prefetch()}var r=e.prototype;return r.ilkInfo=function(){var e=l(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t="vat"),e.abrupt("return",this._systemData[t].ilks(this._ilkBytes));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.prefetch=function(){var e=l(g.mark((function e(){var t,r,n=this;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._prefetchPromise||(t=this._systemData.adapterAddress(this.ilk),r=(this.currency===w?H:this.currency).symbol,this._prefetchPromise=Promise.all([this._systemData.get("token").getToken(r).balanceOf(t).then((function(e){return n.cache.adapterBalance=e})),this.ilkInfo().then((function(e){return n.cache.vatInfo=e})),this.ilkInfo("cat").then((function(e){return n.cache.catInfo=e})),this.ilkInfo("jug").then((function(e){return n.cache.jugInfo=e})),this.ilkInfo("spot").then((function(e){return n.cache.spotInfo=e})),this._systemData.spot.par().then((function(e){return n.cache.par=e}))])),e.abrupt("return",this._prefetchPromise);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.reset=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._prefetchPromise=null,this.cache={};case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r._getCached=function(e){return t(this.cache[e],e+" is not cached"),this.cache[e]},F(e,[{key:"totalCollateral",get:function(){return this.currency(this._getCached("adapterBalance"))}},{key:"totalDebt",get:function(){var e=this._getCached("vatInfo"),t=e.rate;return R.wei(e.Art._hex).times(t._hex).shiftedBy(-27)}},{key:"debtCeiling",get:function(){return e=this._getCached("vatInfo").line,R.rad(e._hex);var e}},{key:"liquidationRatio",get:function(){return e=this._getCached("spotInfo").mat,i.createCurrencyRatio(L,R)(new d(e.toString()).dividedBy(U).toString());var e}},{key:"price",get:function(){return e=this.currency,t=this._getCached("par"),r=this._getCached("vatInfo").spot,n=this.liquidationRatio,t=new d(t.toString()).dividedBy(U),r=new d(r.toString()).dividedBy(U),i.createCurrencyRatio(L,e)(r.times(t).times(n.toNumber()));var e,t,r,n}},{key:"liquidationPenalty",get:function(){return e=this._getCached("catInfo").chop,new d(e.toString()).dividedBy(O).minus(1).toNumber();var e}},{key:"annualStabilityFee",get:function(){return e=this._getCached("jugInfo").duty,e=new d(e.toString()).dividedBy(U),d.config({POW_PRECISION:100}),e.pow(31536e3).minus(1).toNumber();var e}},{key:"_pipAddress",get:function(){var e="PIP_"+this.currency.symbol;return this._systemData.get("smartContract").getContractAddress(e)}}]),e}(),it=v.CDP_TYPE,st=v.SYSTEM_DATA,ot=function(e){function r(t){var r;return void 0===t&&(t=it),(r=e.call(this,t,[st])||this).reset=r.resetAllCdpTypes,r}h(r,e);var n=r.prototype;return n.initialize=function(e){var t=this;void 0===e&&(e={cdpTypes:void 0,prefetch:void 0}),this.settings=e,this.cdpTypes=(e.cdpTypes||[]).map((function(r){return new ct(t,r,{prefetch:e.prefetch})}))},n.connect=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.settings.prefetch){e.next=3;break}return e.next=3,this.prefetchAllCdpTypes();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.getCdpType=function(e,r){var n=this.cdpTypes.filter((function(t){return!(e&&t.currency.symbol!==e.symbol||r&&r!==t.ilk)}));if(1===n.length)return n[0];var a=[e&&"currency "+e.symbol,r&&"ilk "+r].filter((function(e){return e})).join(", ");t(n.length<=1,a+" matches more than one cdp type"),t(n.length>0,a+" matches no cdp type")},n.resetAllCdpTypes=function(){this.cdpTypes.forEach((function(e){return e.reset()}))},n.prefetchAllCdpTypes=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.cdpTypes.map((function(e){return e.prefetch()})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),F(r,[{key:"totalDebtAllCdpTypes",get:function(){return this.cdpTypes.map((function(e){return e.totalDebt})).reduce((function(e,t){return e.plus(t)}))}},{key:"totalCollateralValueAllCdpTypes",get:function(){return this.cdpTypes.map((function(e){return e.totalCollateral.times(e.price)})).reduce((function(e,t){return e.plus(t)}))}},{key:"totalCollateralizationRatioAllCdpTypes",get:function(){return Oe(this.totalCollateralValueAllCdpTypes,this.totalDebtAllCdpTypes)}}]),r}(s.PublicService),dt=function(){function e(e,t){switch(e){case R.symbol:this.contract=t.getContract("MCD_FLAP");break;case"MKR":this.contract=t.getContract("MCD_FLOP");break;default:this.contract=t.getContract("MCD_FLIP_"+e.replace(/-/g,"_"))}}var t=e.prototype;return t.getMaxBidLifetime=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.ttl();case 2:return e.t0=e.sent,e.abrupt("return",e.t0/3600);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getMaxAuctionDuration=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.tau();case 2:return e.t0=e.sent,e.abrupt("return",e.t0/86400);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getMinBidIncrease=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.beg();case 2:return e.abrupt("return",new d(e.sent._hex).div(O).minus(1).toNumber());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e}(),ut=function(e){function t(t){return void 0===t&&(t=v.AUCTION),e.call(this,t,["smartContract"])||this}return h(t,e),t.prototype.getAuction=function(e){return new dt(e,this.get("smartContract"))},t}(s.PublicService),Ct=function(e){function t(t){return void 0===t&&(t=v.SYSTEM_DATA),e.call(this,t,["smartContract","token"])||this}h(t,e);var r=t.prototype;return r.getAnnualBaseRate=function(){var e=l(g.mark((function e(){var t;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jug.base();case 2:return t=new d(e.sent.toString()).dividedBy(U).plus(1),e.abrupt("return",t.pow(31536e3).minus(1).toNumber());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getSystemWideDebtCeiling=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vat.Line();case 2:return e.abrupt("return",new d(e.sent.toString()).dividedBy(S).toNumber());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.adapterAddress=function(e){var t="MCD_JOIN_"+e.replace(/-/g,"_");return this.get("smartContract").getContractAddress(t)},r.isGlobalSettlementInvoked=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("smartContract").getContract("MCD_END").live();case 2:return e.abrupt("return",e.sent.eq(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getSystemSurplus=function(){var e=l(g.mark((function e(){var t,r,n;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.get("smartContract").getContractAddress("MCD_VOW"),e.next=3,Promise.all([this.vat.dai(t),this.vat.sin(t)]);case 3:return n=(r=e.sent)[1],e.abrupt("return",R.rad(r[0]._hex).minus(R.rad(n._hex)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getTotalDai=function(){var e=l(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=R,e.next=3,this.vat.debt();case 3:return e.t1=e.sent._hex,e.abrupt("return",e.t0.rad.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),F(t,[{key:"cat",get:function(){return this.get("smartContract").getContract("MCD_CAT")}},{key:"jug",get:function(){return this.get("smartContract").getContract("MCD_JUG")}},{key:"vat",get:function(){return this.get("smartContract").getContract("MCD_VAT")}},{key:"spot",get:function(){return this.get("smartContract").getContract("MCD_SPOT")}}]),t}(s.PublicService),ft=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"guy",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"dst",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"dst",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Withdrawal",type:"event"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"guy",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"deposit",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"wad",type:"uint256"}],name:"withdraw",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],At=v,Dt=At.CDP_MANAGER,_t=At.CDP_TYPE,pt=At.SYSTEM_DATA,bt=At.AUCTION,Et=At.SAVINGS,lt=n(B,(function(e,t,r){var n=T[r];if(!n){var a=Object.keys(T).find((function(e){return"*"==e.substring(e.length-1)&&e.substring(0,e.length-1)==r.substring(0,e.length-1)}));a&&(n=T[a])}return n&&(e[r]={abi:n,address:{testnet:t,goerli:y[r],mainnet:m[r]}}),e}),{}),xt=new d("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ft={addConfig:function(e,n){var c,i=void 0===n?{}:n,s=i.cdpTypes,o=void 0===s?Be:s,u=i.addressOverrides,C=void 0===u?null:u,f=i.prefetch,A=void 0===f||f;C&&(lt=r(lt,(function(e,t){return I({},e,{address:C[t]||e.address})})));var D=a(o,"currency").map((function(e){var r=e.currency,n=e.address,a=e.abi,c=e.decimals,i=n&&a?{address:n,abi:a}:lt[r.symbol];return t(i,'No address and ABI found for "'+r.symbol+'"'),{currency:r,abi:i.abi,address:i.address,decimals:i.decimals||c}}));return d.config({POW_PRECISION:100}),(c={smartContract:{addContracts:lt},token:{erc20:[{currency:R,address:lt.MCD_DAI.address},{currency:H,address:lt.ETH.address,abi:ft}].concat(D)},additionalServices:[Dt,_t,bt,pt,Et]})[_t]=[ot,{cdpTypes:o,prefetch:A}],c[Dt]=et,c[Et]=at,c[bt]=ut,c[pt]=Ct,c}};exports.AAVE=ue,exports.ALLOWANCE_AMOUNT=xt,exports.BAL=ie,exports.BAT=Y,exports.COMP=re,exports.DAI=R,exports.DGD=X,exports.DSR_DAI=j,exports.ETH=w,exports.GNT=K,exports.GUSD=se,exports.KNC=q,exports.LINK=ae,exports.LRC=ne,exports.MANA=$,exports.MATIC=Ce,exports.MKR=k,exports.McdPlugin=Ft,exports.OMG=W,exports.PAXUSD=te,exports.RENBTC=de,exports.REP=J,exports.SAI=he,exports.ServiceRoles=At,exports.TUSD=Q,exports.UNI=oe,exports.UNIV2AAVEETH=Fe,exports.UNIV2DAIETH=Ae,exports.UNIV2DAIUSDC=pe,exports.UNIV2DAIUSDT=Ie,exports.UNIV2ETHUSDT=be,exports.UNIV2LINKETH=Ee,exports.UNIV2UNIETH=le,exports.UNIV2USDCETH=_e,exports.UNIV2WBTCDAI=xe,exports.UNIV2WBTCETH=De,exports.USD=L,exports.USDC=Z,exports.USDT=ee,exports.USD_ETH=V,exports.WBTC=z,exports.WETH=H,exports.WSTETH=fe,exports.YFI=ce,exports.ZRX=G,exports.default=Ft,exports.defaultCdpTypes=Be,exports.defaultTokens=ye;
//# sourceMappingURL=dai-plugin-mcd.cjs.production.min.js.map
